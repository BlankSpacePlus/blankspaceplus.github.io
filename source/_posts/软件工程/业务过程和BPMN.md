---
title: 业务过程和BPMN
date: 2021-02-19 19:13:09
summary: 本文介绍业务过程和业务过程建模表示法BPMN。
tags:
- 软件工程
categories:
- 软件工程
---

# 业务过程

一个当代自适应企业的业务前景要求的是，对业务能力进行探索，并确定满足不断变化的需求的解决方案。

业务过程界定了IT项目和系统的需要。

很多情况下，IT解决方案仅仅是解决业务问题；在另外一些情况下，IT解决方案是业务创新的真正推动者，并产生新的经营理念。
无论是哪种情况，IT解决方案都是一种基础设施服务，可初步提供重要的竞争优势，但最终成为一种竞争对手也会有的商品。

业务需要采取主动。然而，由于新技术的动态发展，包括准备到定制的预包装解决方案，IT专家越来越被看作是**业务解决方案的提供者**，而并不仅仅是系统开发者。

业务策略和IT流程的调整是系统规划措施的目标，在IS开发过程中，被认为是标准的和应遵守的框架。

将经营理念联系到相应IT解决方案，最大的困难在于，业务人员和IT专家之间缺乏良好的沟通渠道。这些渠道具有重要的社会和组织层面的因素，但最初的困难以及沟通必备的条件必定与一个共同的建模语言的存在相关，这种建模语言应该为描述业务过程提供一种图形表示法。

# 解决方案构想

解决方案构想是一种业务价值驱动方法，以提供解决当前业务问题和促进将来业务创新的IT服务，它不仅仅是一个软件系统。
解决方案构想在业务和IT利益相关者之间建立了紧密的联系，并且整合了业务战略方法和软件开发能力。

效果、效率和优势是解决方案构想实现的支撑，并决定了业务最终的改变程度。

解决方案的独特性和新颖性主要在于认识到这样一个事实：现代软件开发几乎不可能是单机的、从零开始的常规开发，而是打包的、基于构件的和集成的项目。

解决方案构想的过程可以分为三个阶段，每个阶段包括活动组和组内的活动，可以用垂直的泳池表示，活动组作为展开的子过程展示，活动被结构化为任务。

Step1：业务能力探索
此阶段确定业务能力，即为企业的IT解决方案提交具体成果的能力。
此阶段描述能力案例，即提供了解决方案思路，为每个能力生成一个业务案例。
从IT的观点来看，每个能力案例可以被看作是为了达到业务目标的可复用的软件构件。
当理解了业务问题的性质，并且理解了解决方案需要产生的具体成果的时候，第一个阶段才算完成。这些理解被记录在所提出的解决方案的初步设想中，可以传达给更广泛的利益相关者，以便在构想研讨中做出评价和进一步决策。

Step2：解决方案能力构想
此阶段的目的是将能力用例发展成解决方案概念，确保利益相关者对这个方案的意见一致。
解决方案概念将业务环境作为输入，产生的未来新工作方法的构想作为输出。
解决方案概念集中于最终的解决方案体系结构，并在解决方案构想研讨中得到发展。

Step3：软件能力设计
此阶段开发软件能力体系结构、细化具有项目规划和风险分析的业务用例。
此阶段是软件建模的一项活动，为构建解决方案开发高层模型并执行计划。
建模计划包括功能性需求和非功能性需求以及能力体系结构，显示高层软件构件之间的相互作用。

有三种流行的实现策略：
- 常规开发：手工、单机、从零开发软件。
- 基于包的开发：定制先前存在的软件包。
- 基于构件的开发：通过集成多个软件构件。

选择的实现策略会对系统设计产生影响。

# BPMN

BPMN，业务过程建模表示法，描述了业务过程的内部细节，目的是为业务人员和IT人士提供一种共同的沟通语言。

BPMN专门用于对由活动定义的业务过程建模，这些活动能够产生对企业或其外部利益相关者有价值的事物。过程的概念是分层的，可能包含其他过程。过程中的原子活动称为任务。

业务过程模型可以通过多个不同大小的过程来定义：从全企业范围内的过程到单独一个人完成的过程。形式上，BPMN不支持过程的结构建模，但实际上，一个过程的功能细化是迟早需要的。过去，数据流图是主流的功能分解技术，但它比较复杂。在当前实践中，更倾向于使用简化的过程层次图。

无论是对一个组织内工作流中的“端对端”业务过程建模，还是对不同业务实体管理的业务过程之间相互作用的建模，BPMN都考虑到了多种类型图的创建。前一种模型称为内部业务过程，而后者是协作型“业务对业务”(B2B)过程。

BPMN不是用于任何特定过程建模方法的表示法。相反，它的目的是为业务人员和IT人士提供一种共同的沟通语言。UML活动图也可以起到类似的作用。由于BPMN和UML都是OMG所开发，因此，业务过程图和活动图的某种整合是大家所期待的结果。

# BPMN的建模元素

BPMN一共有四种基本类型的建模元素：流对象、连接对象、泳道、人工制品。

![在这里插入图片描述](https://img-blog.csdnimg.cn/2021021919134513.png)

## 流对象

这是BPMN的核心元素，一共有三种流对象：事件(Event)、活动(Activity)、路由(Gateway)。

### 事件

事件是某些“发生”的事物，通常有一个原因（触发器）或产生一个影响（结果）。

开始事件表示一个特定过程即将开始，结束事件表示过程将要结束，中间事件发生在二者之间。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219180309703.png)

### 活动

活动是某些必须进行的工作，可能是一项任务或者一个子过程。

一个子过程在圆角矩形的下边界线上有一个$+$，表示它是一个复合活动。
复合活动可以分解为一组子活动，它被看作是展开的子活动。

圆角矩形下边界上的其他图形符号决定了其他属性，例如循环执行或多实例执行。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219180327479.png)

### 路由

路由用来控制多个序列流的分支和聚合，有六种类型的路由：简单确定/合并、并行分叉/连接、基于数据的排他性决定/合并、基于事件的排他性决定/合并、包容性决定/合并、复杂决定/合并。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219180413688.png)

## 连接对象

连接对象用来连接流对象，这些流对象定义业务过程的结构，一共有三类连接对象：序列流、消息流、关联。

### 序列流

序列流用来表示一个过程中活动完成的序列。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190253676.png)

### 消息流

消息流用来表示准备发送和接收消息的两个业务实体（两个过程参与者）之间的消息（数据）流向。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190312829.png)

### 关联

关联用来关联两个流对象，或者关联一个人工制品与一个流对象。

![在这里插入图片描述](https://img-blog.csdnimg.cn/2021021919033288.png)

## 泳道

泳道表示业务过程中的业务实体，即参与者。为了说明不同的功能和责任，泳道将活动进行形象化分类。

泳池群表示自包含过程的集合。

相应地，序列流可能不穿越泳池的边界。

不同泳池群中的参与者能够通过消息流或者关联与人工制品进行通信。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190405517.png)

## 人工制品

人工制品提供了附加的建模灵活性，允许我们扩展基本表示法来应对特殊的建模环境，一共有三种预定义的人工制品：数据对象、组、注释。

### 数据对象

数据对象表示活动需要的数据或者活动产生的逻辑。对于过程的消息流或序列流，它们不会产生任何直接影响，但它们提供了额外的关于活动的信息。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190418315.png)

### 组

组是不影响过程序列流的一组活动。组的使用是为了文档或者分析的目的，例如识别通过泳道的分布式事务活动。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190424564.png)

### 注释

注释为BPMN的读者提供附加的文本信息。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219190435160.png)


# BPMN实例
广告支出系统的BPMN：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210219191208941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg5NjMxOA==,size_16,color_FFFFFF,t_70)

# UML活动图

活动图描述用例要求所要进行的活动，以及活动间的约束关系，有利于识别并行活动。

活动图本质是带有并发功能的程序流程图，描述哪些步骤可以顺序执行、哪些步骤可以并行执行，并显示计算的步骤。

活动图能够演示出系统中哪些地方存在功能，以及这些功能和系统中其他组件的功能如何共同满足前面使用用例图建模的商务需求。

活动图显示连接动作和其他节点(如决策、分叉、连接、合并和对象节点)的流。
- 分支(branch)及合并(merge)：产生可选的计算线程。
- 分叉(fork/bifurcation)及交汇(rejoin/intersection)：产生并发的计算线程从一个动作到下一个动作控制的流程称为控制流。

活动图的结构：
- 实心圆`●`表示活动的开始
- 钻石框`◆`表示分支条件，出口由事件(如Yes，No)或守卫条件(如[green light])控制
- 短线`－`表示流的分叉或连接
- 牛眼`◉`表示活动的结束
