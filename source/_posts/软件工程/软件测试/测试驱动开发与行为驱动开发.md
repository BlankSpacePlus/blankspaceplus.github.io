---
title: 测试驱动开发与行为驱动开发
date: 2021-03-24 20:45:31
summary: 本文讨论测试驱动开发TDD与行为驱动开发BDD。
tags:
- 软件测试
- 软件工程
categories:
- 软件工程
---

# 测试驱动开发

TDD，测试驱动开发，从敏捷软件开发方法开始流行，是一种非常实用的质量保证执行方式。敏捷软件开发方法使得TDD流行起来。

TDD的思想就是要在开发（设计和编码）应用程序代码（要测试的单元）之前，必须先编写出测试用例和测试脚本以及测试程序。
TDD颠倒了传统的活动顺序，使得应用程序代码的编写滞后于测试代码的编写，但只要编写好应用程序代码，就可以立即使用测试代码来对其进行测试。

TDD不仅要求在编写应用程序代码前编写出测试代码，而且要求应用程序必须通过测试才能保证质量，才能够建造出有质量的软件系统。

TDD的理论核心是“红灯、绿灯、重构”，这描述了一种编码和测试的理想流程：
- 红灯：首先完成一个或多个单元测试代码，用来测试那些尚未完成的功能代码。测试会失败，测试框架显示一个红色的符号。
- 绿灯：用最少的代码让测试通过，不需要考虑代码的优雅和扩展性，只关注测试能否通过。测试一旦通过，测试框架显示一个绿色的符号。
- 重构：让代码通过新测试，并修改代码，提高代码的可维护性，使其符合质量标准。

TDD的好处为：
- 先写测试代码会让程序员在编码前思考具体需求，在后期减少编码的重复工作。
- 促使程序员用最少的代码通过测试，然后停止编码，最小化代码膨胀造成的负面影响。
- 促使程序员写出更易于测试的代码，这种代码往往也是模块化的代码，对外部模块的依赖性也最小。

由于预先得到了测试代码，为了满足测试代码要求的功能，程序员可以只针对要测试的验证点来编写应用程序代码。因此，TDD实质上是主动地驱动了软件开发，而不仅仅是对软件的验证。

TDD的流行导致了很多相关的模式和框架的流行，例如xUnit。
JUnit框架基于组合模式开发，为Java提供了Test接口，这个接口基于TestCase和TestSuite两个类实现。

# 行为驱动开发

行为驱动开发(BDD)是测试驱动开发的延伸，开发使用简单的，特定于领域的脚本语言。这些DSL将结构化自然语言语句转换为可执行测试，与给定功能的验收标准以及用于验证该功能的测试之间的关系更密切。

二者的结果一样，都是代码化的单元测试。BDD更关注单元的行为并引入了一些特定词汇，有助于团队的交流和测试文档的编写。
