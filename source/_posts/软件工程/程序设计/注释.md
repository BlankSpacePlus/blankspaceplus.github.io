---
title: 注释
date: 2023-02-01 21:43:19
summary: 本文探讨对代码注释的一些思考。
tags:
- 程序设计
categories:
- 程序设计
---

# 注释的意义

编程时往往需要为程序添加一些注释，用以说明某段代码的作用，或者说明某个类的用途、某个方法的功能，以及该方法的参数和返回值的数据及意义等。

为代码添加注释的意义在于：
- 降低再读代码时的理解成本
- 现代软件开发中，面对团队开发的现状，代码的可读性非常重要
- 代码即文档，程序源码本身就是程序文档的重要组成部分

# 注释的格式

| 语言和工具 | 注释格式 |
|:----:|:----:|
| HTML | `<!-- 注释 -->` |
| CSS | `/* 注释 */` |
| Java | `// 单行注释`<br>`/* 多行注释 */`<br>`/** 文档注释 */` |
| Python | `# 单行注释`<br>`''' 多行注释 '''` |
| MATLAB | `% 单行注释`<br>`%{ 多行注释 %}` |

# 注释的隐患

注释非常重要，也一直被强调。但是，如果代码注释不好、不正确、更新不及时、有误导性，就会对其他人造成很大的困扰，适得其反。

部分初学者可能会写出如下带注释的代码段：
```java
// 定义一个类
public class Hello {
    
    // 定义一个私有数组属性
    private int[] array = {1, 2, 3, 4, 5};
    
    // 定义一个方法
    public getSize() {
        // TODO
    }

}
```

不恰当的代码注释是一种代码重复，会导致很多很多的问题。有误导性和完全错误的代码注释问题比没有注释更大。

# 注释的快捷键

不论是选择文本编辑器还是选择集成开发环境，完全手动操作都会降低开发效率。因此，熟练掌握具体软件工具的快捷键非常重要。

下面是Java常见开发工具的注释快捷键：
- IntelliJ IDEA：
    - 单行注释：`Ctrl+/`
    - 多行注释：`Ctrl+Shift+/`
- Eclipse：
    - 单行注释：`Ctrl+/`
    - 多行注释：`Ctrl+Shift+/`

# JavaDoc标记

| 标签 | 含义 |
|:----:|:----:|
| `@author` | 标识作者 |
| `{@code}` | 以代码字体原样显示信息，但不转换成HTML样式 |
| `@deprecated` | 指定程序元素已经过时 |
| `{@docRoot}` | 指定当前文档的根目录路径 |
| `@exception` | 标识某个方法或者构造函数抛出的异常 |
| `@hidden` | 禁止某元素显示在文档中 |
| `{@index}` | 给索引指定术语 |
| `{@inheritDoc}` | 直接从父类中继承文档注释 |
| `{@link}` | 插入指向另一个主题的内部链接 |
| `{@linkplain}` | 插入指向另一个主题的内部链接，但以纯文本字体显示链接 |
| `{@literal}` | 原样式显示信息，但不转换成HTML样式 |
| `@param` | 文档化形参 |
| `@provides` | 文档化模块提供的服务 |
| `@return` | 文档化方法的返回值 |
| `@see` | 指定对另一个主题的链接 |
| `@serial` | 文档化默认的可序列化域 |
| `@serialData` | 文档化writeObject()或writeExternal()方法写入的数据 |
| `@serialField` | 文档化ObjectStreamField组件 |
| `@since` | 声明引入特定更改的版本号 |
| `{@summary}` | 文档化某项的摘要(JDK10+) |
| `@throws` | 相当于@exception |
| `@uses` | 文档化模块所需要的服务(JDK9+) |
| `{@value}` | 显示一个常量的值，该常量必须是静态域 |
| `@version` | 指定程序元素的版本 |

# 特殊注释

- `//TODO`： 表示待实现的功能。
- `//FIXME`： 代码存在Bug，不能Run或运行结果不正确，需要修复。
- `//XXX`： 勉强可以工作，但是实现的方法不一定很好。

## //TODO

```java
//TODO something
```

顾名思义，`//TODO`说明标识处有功能代码未实现，待实现的功能说明会在`//TODO`后面简略表述。

## //FIXME

```java
//FIXME something
```

顾名思义，`//FIXME`说明标识处代码需要修正。被`//FIXME`表示的代码基本是错误的、不能工作的、需要修复的，修正的说明会在`//FIXME`后面简略表述。

## //XXX

```java
//XXX something
```

如果代码中有`//XXX`，说明标识处代码虽然实现了功能，但是实现的方法不一定很好，留待商榷并希望未来版本中能改进，要改进的说明会在`//XXX`后面简略表述。

Eclipse可识别`//XXX`，IDEA不识别`//XXX`。
