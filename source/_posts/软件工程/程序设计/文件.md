---
title: 文件
date: 2022-02-27 19:30:59
summary: 本文分享文件的概念和基本的文件逻辑操作。
tags:
- 程序设计
categories:
- 程序设计
---

# 文件

计算机文件是信息的集合，有一个名字，并跟创建它的程序是分开存放的。文件可以存放程序代码，这时它们被称为程序文件；也可以存放程序要用的数据，这时它们被称为数据文件。

在程序运行时，用户的输入被称为交互式输入；而从数据文件输入数据到程序，则被称为批处理。

交互式输入非常有用，批处理也有优点：
- 在输入大规模数据时，数据文件通常更适合。
- 在某些编程环境中，数据文件可以避免重复地输入相同的数据。
- 数据文件可以被多个程序共用。
- 数据文件可以存储程序输出，以便将来查看，或作为另一个程序的输入。

文件可以分为文本文件和二进制文件：
- 文本文件，全部由标准字符(能用键盘输入的字符)组成，如某些系统文件、简单的文字处理文件、程序源代码文件、某些程序产生的特殊文件。
- 二进制文件，允许包含非标准符号的非文本文件，如多数操作系统文件、程序文件、应用程序生成的数据文件。

与二进制文件相比，文本文件最大的优点是简单：
- 创建文本文件很容易，即可以使用编程语言软件，也可以用文本编辑器输入内容。文本编辑器是一种简单的文本处理软件，它的输出会被存成文本文件。
- 能直接把文本文件输出到屏幕上和打印机而不用任何特别的软件。
- 文本文件在格式上是统一的。差不多每台计算机系统都能正确地表示文本文件，而无需任何特殊软件。

数据文件中的信息可以根据相关性分成组(记录)，记录中的数据项称为域。数据会被当做一连串的字符存储在磁盘上，域之间通过符号来分隔，记录通过一个特殊符号来结束，用`<CR>`来表示。

文件可以分为顺序文件和直接访问文件：
- 顺序文件中的记录必须按记录在文件中出现的顺序读取。
- 直接访问文件(随机访问文件)运行独立地读取其中任意记录而与其他记录无关。

顺序文件和直接访问文件都可以用来解决给定的问题。如果需要频繁地对整个文件进行显示和修改，顺序文件是较好的选择；如果有大量的记录要存储，而一次只修改或显示其中一小部分时，直接访问文件会更有效。

# 文件逻辑操作

说明：以下Input和Output是针对于程序来说的，而不是针对文件来说的。

## 创建顺序文件

操作步骤：
1. 用Open语句以Output模式打开文件。
2. 用Write语句把记录写到创建的文件中。
3. 用Close语句关闭文件。

## 读取顺序文件

操作步骤：
1. 用Open语句以Input模式打开文件。
2. 用Read语句把记录数据赋值给程序变量。
3. 用EOF函数判断文件结束。
4. 用Close语句关闭文件。

## 修改顺序文件

操作步骤：
1. 用Open语句以Input模式打开给定文件，用Output模式打开草稿文件。
2. 用户输入待修改的数据。
3. 从给定文件读取数据，并把它们写到草稿文件中，直到到达一个需要修改的记录。
4. 修改该记录。
5. 从给定文件读取剩余的数据，并把它们写到草稿文件中。
6. 用Close语句关闭所有文件。

## 合并顺序文件

操作步骤：
1. 用Open语句以Input模式打开文件File1和File2，用Output模式打开合并文件File3。
2. 读取File1和File2的初始记录。
3. 如果File1的记录在File2的记录前面，则把File1的记录写到File3里；否则，则把File2的记录写到File3里.
4. 从另一个读取文件中将记录写到File3里。
5. 用Close语句关闭所有文件。
