---
title: 变量与常量
date: 2022-02-27 14:18:21
summary: 本文分享变量和常量的相关内容。
tags:
- 程序设计
categories:
- 程序设计
---

# 变量

变量在所有计算机程序中都用得到，是程序设计中非常重要的概念。

当我们写一个程序的时候，大多数情况下，我们不知道程序执行时用户将会输入的实际数字或其他数据，因此我们把输入数据赋值给程序中的变量。

在程序运行的过程中，变量是一个数值可变的量。
随后的程序语句中，我们需要使用到那个数据时，只需要使用它的变量名。这时，变量的取值会应用到用到它的那条语句中。

程序变量是计算机内存中存储地址的名称，而变量的取值是那个地址中的内容。

变量在不同类型编程语言中的使用是不同的。
在静态类型语言中，变量类型不可变(Java等语言支持数值类型的自动类型转换)；在动态类型语言中，变量类型可变。
在强类型语言中，变量需要先定义再使用；在弱类型语言中，变量不需要先定义再使用。

## 变量的命名原则

变量的基本命名原则：
1.  所有的变量名必须是一个词。
2. 可以使用下划线，通常也可以使用连字符，但不能使用空格。
3. 变量名可以很长，事实上许多语言允许名字长度超过200个字符。只是，名字太会增加程序出错的机会。
4. 大多数语言允许数字作为变量名的一部分，但变量名不能以数字开头。
5. 命名分为驼峰式命名和下划线式命名。
6. 变量名应该要有实际意义且易于理解。

## 变量的作用域

在程序模块中，当一个变量的值由用户输入、被程序处理或者被输出处理时，我们称为该变量在这个模块中被引用了。在特定情况下，在一个模块中声明的变量不能在另一个模块中被引用。试图在一个模块中使用其他模块中声明的变量将得到编译器给出的“未知变量”的错误信息。一个给变量能够在程序中被引用的代码范围称为**变量的作用域**。

对大多数编程语言来说，在特定模块中声明的变量，其作用域包含该模块本身以及所有它的子模块。

全局变量的作用域为整个程序范围；另外在一些编程语言中，如果一个变量在所有程序模块之外（包括主程序）或者前面进行了声明，那么该变量就是全局变量。

在某一子程序中声明的变量被称为局部变量，具有如下特点：
- 当子程序中，局部变量的值更改时，在子程序外部同这些局部变量名相同的变量的值不会跟着改变。
- 当程序中一个变量的值更改时，在子程序中同该变量名称相同的局部变量的值不会跟着改变。

有时，局部变量和全局变量会发生冲突的情况，为了解决冲突应采用局部声明优先原则，即子程序变量的值更改时主程序变量的值不会跟着改变。

全局变量保存在内存的全局存储区中，占用静态的存储单元；局部变量保存在栈中，只有在所在函数被调用时才动态地为变量分配存储单元。

除了计数器以外，在一个程序中将两个变量名同名不是好的编程习惯，例如PyCharm就会给这种情况标警告。

局部变量是必然会支持的，有些编程语言完全不支持全局变量。

函数的形式参数，被当作该函数内的局部变量，如果与全局变量同名它们会优先使用。

## 变量的声明

推荐阅读：[变量声明](https://blankspace.blog.csdn.net/article/details/129382715)

## 变量的类型推断

推荐阅读：[变量类型推断](https://blankspace.blog.csdn.net/article/details/129401446)

## 变量的初始化

变量的初始化可以是人为的，也可能是自动初始化的。

对于Java等语言，系统会默认初始化变量，即便人为初始化。对于Python等动态语言，没有变量的声明过程，变量定义的过程中就必然完成初始化。

对于C语言，当局部变量被定义时，系统不会对其初始化，开发者必须人为对其初始化。定义全局变量时，系统会自动对其初始化，如下所示：

| 数据类型 | 初始化默认值 |
|:----:|:----:|
| `int` | `0` |
| `char` | `'\0'` |
| `float` | `0` |
| `double` | `0` |
| 指针 | `NULL` |

正确地初始化变量是一个良好的编程习惯，否则有时候程序可能会产生意想不到的结果，因为未初始化的变量会导致一些在内存位置中已经可用的垃圾值。

# 常量

在程序运行的过程中，常量是一个数值不可变的量。

常量和变量一样，都需要一个命名。

常量的存在，可以尽可能地避免“魔法数”问题，避免一处修改处处修改且容易漏改错改的问题。

以Java为例，常量被定义为`final`的。对于基本类型，常量的内存地址直接存的就是值，值不能赋值修改。对于引用类型，常量的内存地址存的是引用(指针)，不能直接赋值修改，但可以赋值修改属性值。

当使用final修饰Java基本类型变量时，不能对基本类型变量重新赋值，因此基本类型变量不能改变。但对于引用类型变量而言，它保存的仅仅是一个引用，final保证了引用(地址)不变，但对象内部是可变的。
