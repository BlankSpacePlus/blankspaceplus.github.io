---
title: 模块引入
date: 2023-03-13 15:52:58
summary: 本文分享模块引入的方法，以C、C++、Java、Python为例。
tags:
- 程序设计
categories:
- 程序设计
---

# C/C++模块引入

头文件是扩展名为`.h`的文件，包含了C函数声明和宏定义，被多个源文件中引用共享。想要在C程序中引入模块，需要使用C预处理指令`#include`来引用对应的头文件。

C支持两种类型的头文件：系统头文件、用户头文件。
- 系统头文件包括编译器自带的头文件和本地安装的第三方库，编译器在系统目录的标准列表中搜索对应的文件，引入格式是`#include <file_name>`
- 用户头文件是程序员开发的头文件，编译器在当前文件所在的目录中搜索对应的文件，引入格式是`#include "file_name"`

引用头文件相当于复制头文件的内容，但是并不该直接在源文件中复制头文件的内容。因为当程序是由多个源文件组成的时候，极易出错。

C/C++的一则开发经验是：建议把所有的常量、宏、系统全局变量和函数原型写在头文件中，在需要的时候随时引用这些头文件。

如果一个头文件被引用两次，编译器会处理两次头文件的内容，这将产生错误。为了防止这种情况，标准的做法是把文件的整个内容放在条件编译语句中：
```c
#ifndef HEADER_FILE
#define HEADER_FILE
the entire header file file
#endif
```

面对比较复杂的情况，可以有条件地引用：
```c
#if SYSTEM_1
   # include "system_1.h"
#elif SYSTEM_2
   # include "system_2.h"
#elif SYSTEM_3
   # include "system_3.h"
...
#endif
```

# Java模块引入

为了能够使用某一个包的成员，开发者需要在Java程序中明确导入该包。使用import语句可完成此功能。import是Java的关键词之一，用于向当前.java文件中导入其他.java中的内容(严格点说是.class)。

Java源文件的import语句应该位于package语句之后、所有的类定义之前。import语句可能没有，也可能有多条；可能导入非静态的内容，也可能导入静态的内容。import语句也是一条Java语句，因此要用`;`结尾。

import语句引入任何内容都必须写类全名！以下用`<class_full_name>`代指类全名字符串，即包名.类名；用`<package_full_name>`代指完整包名；用`<class_name>`代指类名。

import语句可能出现的情况：
- 非静态import
    - `import <class_full_name>;` (等价于`import <package_full_name>.<class_name>;`)
        - `import <class_full_name>.<inner_class_name>;`
        - 只能直接import内部类，类对象的属性和方法必须通过创建对象后`.`调用。
    - `import <package_full_name>.*;`
- 静态import
    - `import static <class_full_name>.<static_method_name>;`
    - `import static <class_full_name>.<static_attribute_name>;`
    - `import static <class_full_name>.<static_inner_class_name>;`
    - `import static <class_full_name>.*;`

同包多条import可以通过`*`合并导入，但不能用`,`并列导入。

# Python模块引入

模块是一个包含所有你定义的函数和变量的文件，其后缀名是.py。模块可以被别的程序引入，以使用该模块中的函数等功能。这也是使用Python标准库的方法。

因此，需要引入的是整个模块或其内容。

Python同样采用import语句，只是这种import语句与Java的import语句有所不同。

Python支持以下类型的import语句：
- import结构
    - `import <module_name>`
    - `import <module_name> as <alias_module_name>`
    - `import <module_name_1>, <module_name_2>, ...`
- from...import结构
    - `from <module_name> import <content_name> as <alias_content_name>`
    - `from <module_name> import <content_name>`
    - `from <module_name> import <content_name_1>, <content_name_2>, ...`
    - `from <module_name> import *`
