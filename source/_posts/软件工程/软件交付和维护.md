---
title: 软件交付和维护
date: 2022-03-06 02:16:23
summary: 本文分享交付和维护的基础知识，引入持续交付的概念。
tags:
- 软件工程
categories:
- 软件工程
---

# 软件交付

两家公司之间的商业交易，通常以软件和服务居多。一般需要被委托方公司在一定时间内提交给用户公司软件包或者服务。

# 交付后维护

软件完美无缺、无任何修改必要是不现实的。对于既有软件产品，推翻重写远比修改已有代码容易，但修改却比重写更为经济。综合各种因素，除非软件已经维护到继续维护下去代价明显高于推翻重写，综合考虑下，维护比重新开发更切实可行。

对产品进行修改可能有三方面的原因：
- 纠错性维护：修改源代码是为了纠正错误，错误包括分析错误、设计缺陷、编码错误、文档错误以及其他任何错误。
- 完善性维护：修改源代码是为了提高产品的有效性。
- 适应性维护：修改源代码是为了适应产品运行环境的变化。

交付后维护是软件产品开发所有工作重最困难的部分。
- 交付后维护的工作涵盖了软件开发过程所有其他工作流的各个方面。
- 修复错误可能引入新的错误(回归错误)，因此需要再进行回归测试。
- 现有软件系统可能是缺乏正确的文档和注释的，有时只能依据源代码进行分析判断，现有文档和注释有误则效果更差，需要很强的错误分析寻找能力和经验。
- 现有软件系统的开发过程可能是维护者未曾参与的，这时维护者必须面对陌生而复杂的系统进行维护。

交付后维护是软件生产最重要的阶段，也是最消耗资源的阶段。

交付后维护的管理需要做好如下工作：
- 收集并分析缺陷报告
- 审批产品修改
- 确保系统的可维护性
- 尽可能避免出现移动目标问题，即客户改变需求的速度大于等于开发人员完成产品的速度。

加入互联网公司对已发布软件进行的所有修改其实都属于交付后维护的范畴，开发者面对的是陌生而复杂的软件系统、层出不穷的故障报警、各种各样的新需求，在“屎山”上“飞舞”，属实不易。

# 持续交付

持续交付(CD)是一套实践和准则，能够让团队在短时间内交付有价值的、稳定的软件。开发团队要保障每次添加的功能不太多，才可以保证软件随时可以发布。从业务和技术角度看，这最大限度地增加了快速反馈和学习的机会。

过去的许多年内，软件业务的需求和期望发生了巨大的变化，重点开始关注创新、速度、投入市场的时间。新的架构、新的部署功能和平台不断出现，DevOps理论不断发展，持续交付构建管道不断改进。

持续交付的核心是，对于所交付的任何功能变更，在决定将它部署到生产环境之前，一定要经过构建、集成、测试和验证的过程。

采用持续交付的原因：
- 持续交付提供持续、快速、高质量的反馈，能够更早地发现和修复错误，增加业务的竞争优势。
- 持续交付降低了上下文切换的成本，并且尽可能避免了用一段包含bug的代码来记录工作。
- 持续交付支持高度的可重复性和可靠性，争取实现更高程度的自动化。

应该尝试自动化的软件工程过程：
- 软件编译和代码质量静态分析。
- 功能性测试，包括单元测试、组件测试、集成测试、端到端测试。
- 所有环境的配置，包括日志集成、监控、报警。
- 将软件构件部署到所有环境的过程，包括生产环境。
- 数据存储迁移。
- 系统测试，包括容错测试、性能测试和安全测试等非功能性测试。
- 变更历史记录的跟踪和审计。

持续交付是一组实践规范和指导原则，能够让软件交付团队在短时间内产生有价值的、稳定的软件。

一个持续交付的构建管道包括本地开发、代码提交、构建、代码质量分析、打包、QA和验收测试、非功能性测试、发布、观察等阶段。

推动持续交付改进的24种能力：
1. 对所有生产工件使用版本控制。
2. 自动化你的部署过程。
3. 实施持续集成。
4. 使用基于主干的开发方法。
5. 实施测试自动化。
6. 支持测试数据管理。
7. 安全问题左移。
8. 实施持续交付。
9. 使用松耦合架构。
10. 授权团队的架构师。
11. 收集并实施客户反馈。
12. 通过价值流使工作流程可见。
13. 小批量工作。
14. 培养和启用团队实验。
15. 拥有轻量级的变更审批流程。
16. 跨应用程序和基础架构进行监控以告知业务决策。
17. 主动检查系统健康状况。
18. 改进流程并使用在制品限制管理工作。
19. 可视化工作以监控质量并在整个团队中进行沟通。
20. 支持生成文化。
21. 鼓励和支持学习。
22. 支持和促进团队间的协作。
23. 提供使工作有意义的资源和工具。
24. 支持或体现变革型领导。

推荐阅读：[24 Key Capabilities to Drive Improvement in Software Delivery](https://itrevolution.com/articles/24-key-capabilities-to-drive-improvement-in-software-delivery/)
