---
title: 组件技术
date: 2021-03-11 16:06:05
summary: 本文分享组件及其相关技术。
tags:
- 面向对象
- 软件工程
categories:
- 软件工程
---

# 组件

> 组件表示封装了系统内容的模块化组成部分，并且系统的表示在其环境中是可替换的。
> 组件在所提供的和所依赖的接口方面定义其行为。

组件是系统的物理部分、实现的一个片段或一个软件程序，一般可理解为二进制可执行部分，也可以是不可直接运行部分。

组件具有以下特性：
- 组件是独立的部署单元，不可以只部署组件的一部分。
- 组件是第三方组装单元，是充分文档化的和自包含的，可以被第三方插入到其他组件中。
- 组件没有持久状态，不能与其他拷贝区分开来，在任何给定的应用系统中，一个特定的组件最多有一个拷贝。
- 组件是系统的可替换部分，它可以被符合相同接口的另一个接口替换。
- 组件完成清晰的功能，并且是逻辑耦合和物理耦合的。
- 组件可以嵌套在其他组件中。

# 组件与包

**子系统**的概念特殊化了组件的概念，并被建模为组件的构造型。子系统封装了想实现的系统行为的某些部分。子系统提供的服务是由其内部的组成部分所提供的服务的结果，这也意味着子系统是不能实例化的。

包是建模元素的分组，并具有指定的名字。
在逻辑层上，每个类都属于一个单一的包。
在物理层上，每个类都至少由一个组件实现，并且一个组件可能只实现一个类，抽象类和接口则经常被多个组件实现。

通常情况下，包是比组件更大的体系结构单元，包倾向于以水平方式组织类，这些类是在应用域中静态接近的类。
组件是对行为相近的类的垂直组织，这些类可能来自不同的域，但贡献于一个单一的业务活动，可能只是一个用例。

包和组件具有正交性，这使得它们很难建立起依赖。通常的情况是，逻辑包依赖几个物理组件。

# 组件与类、接口

组件与类的区别：
- 组件是部署在某个计算机结点上的物理抽象；类表示逻辑事物，为了起到物理抽象的作用，不得不将其实现为组件。
- 组件只显示它所包含的类的某些借口，很多其他接口都被封装在组件中，它们只被协作的类在内部使用而对其他组件是不可见的。

**提供接口**是由组件（或其他分类符，如类）实现了的接口，它表示组件的实例为它们的客户所提供的服务。

**依赖接口**是指可能被组件使用的接口，它指明一个组件为了执行它的功能并完成它自己向客户提供的服务所需要的服务。

# 组件与组件图

组件图关注对所实现系统中的结构及组件的依赖性建模。

组件图描述代码组件的物理结构以及各种组件之间的依赖关系，建模软件的组件及其相互之间的关系，由组件标记符和组件之间的关系构成。

在组件图，组件是软件单个组成部分，它可以是一个文件，产品、可执行文件和脚本等。

组件图的组件包含关键词标签`<<component>>`和分类器矩形框右上角显示的组件图标。

组件图中接口定义了组件交互的细节，接口显示为小球和球窝的样子。提供接口的一方使用小球，请求接口使用球窝表示。端口和接口不一定是一对一的关系，端口可以用来对接口分组。

组件的内部结构可以通过内部结构图表示。子系统的内部结构图可以用`<<subsystem>>`表示。

# 组件与软件复用

推荐阅读：[软件复用](https://blankspace.blog.csdn.net/article/details/114686154)

UML将复用定义为：已有人工制品的使用。

> 记住，除了继承，还可以通过其他方式进行复用，包括代码拷贝。在建模中的最大错误之一就是为了获得复用而强迫使用不适当的泛化，这种做法通常会造成混乱。

软件复用的粒度及对应的复用策略：
- 类 ~ 工具包（类库）
- 组件 ~ 框架
- 解决方案 ~ 分析与设计模式

组件带来的软件复用：
- 时间维度：使用以前的软件版本作为新版本的基础，加入新功能，适应新需求，即软件维护。
- 平台维度：以某平台上的软件为基础，修改其和运行平台相关的部分，使其运行于新平台，即软件移植。
- 应用维度：将某软件或其中的组件用于其他应用系统中，新系统具有不同功能和用途，即真正的软件复用。

## 工具包复用

工具包强调在类一级进行代码复用。

在这种层次的复用中，程序员通过调用某些类库中的具体类来完成程序。
此程序的主题是程序员编写的，而不是复用的。
~~*（就好比你调用Guava库的某些API来简化你的Java编程）*~~ 

有两种工具包：
- 基础工具包：基础类由对象编程环境广泛提供，包括实现原始数据类型的类、结构化数据类型与集合。
- 体系结构工具包：体系结构类通常作为系统软件的一部分，如OS、DB、GUI软件。

## 框架复用

框架强调组件级的设计复用。

与工具包复用不同，一个框架提供程序的骨架，程序员通过编写框架需要调用的程序代码在框架骨架里完成程序，程序本身是定制的。

除了框架本身的具体类，框架提供了大量的抽象类用于程序员实现定制的程序。

~~*（就好比基于Spring框架来开发Web系统的Java后端）*~~ 

```java
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.web.servlet.ServletComponentScan;

@SpringBootApplication
@ServletComponentScan
public class SpringbootApplication {

    public static void main(String[] args) {
        SpringApplication.run(SpringbootApplication.class, args);
    }

}
```

一个框架是可定制的应用软件。

虽然框架是一种极有吸引力的复用建议，但也有很多缺点。
框架所交付的通用的、最低公有分母解决方案可能并不能令人满意，甚至可能是过时的。如果如此，框架不但没有给采纳者带来优势，反而在追求新式解决方案时可能产生维护的负担。

## 模式复用

模式强调的是开发方法的复用，它们提供对象交互的思想和例子来表示好的开发实践，得到可理解和可扩展的解决方案。

模式可应用于开发生命周期的分析阶段、体系结构设计阶段或详细设计阶段，从而产生了分析模式、体系结构模式和设计模式（一般来说，设计模式包含体系结构模式）。

模式是被证实的解决方案，很多情况下都适用。这些情况已经被标识，并可以用于开发者寻找问题解决方案的线索。一个模式的任何已知的不利条件和副作用都应该被列出来以便开发者做出正确的决定。

虽然很多设计模式包含了样例代码，使得程序员可以复用，但模式复用很大程度上是概念性的。
设计模式的范围通常处于一个比类大但比组件小的范围内。
分析模式的范围则依赖于模式所应用的建模抽象的层次。
