---
title: 动态规划算法解决装箱问题
date: 2020-03-13 12:27:42
summary: 本文基于动态规划算法解决装箱问题（洛谷P1049题），用Java编程实现。
mathjax: true
tags:
- 算法
- Java
categories:
- 算法分析与设计
---

# 题目描述

有一个箱子容量为 $V$，同时有 $n$ 个物品，每个物品有一个体积。

现在从 $n$ 个物品中，任取若干个装入箱内（也可以不取），使箱子的剩余空间最小。输出这个最小值。

# 输入格式

第一行共一个整数 $V$，表示箱子容量。

第二行共一个整数 $n$，表示物品总数。

接下来 $n$ 行，每行有一个正整数，表示第 $i$ 个物品的体积。

# 输出格式

- 共一行一个整数，表示箱子最小剩余空间。

# 样例 #1

## 样例输入 #1

```
24
6
8
3
12
7
9
7
```

## 样例输出 #1

```
0
```

# 提示

对于 $100\%$ 数据，满足 $0<n \le 30$，$1 \le V \le 20000$。

**【题目来源】**

NOIP 2001 普及组第四题


# 算法分析

本题不能用贪心算法。
比如容量为$7$，有三个物品体积是$1,2,4$，要是先装小的，就只能装下$3$，剩下$4$，但实际上可以剩下$1$。
如果容量为$10$，三个物品体积是$2,2,2,2,2,9$，要是先装最大的，就只能装下$9$，剩下$1$，但实际上可以装满。

一个物体的体积，关系着它的价值，也关系着它的代价。本题可以看做一个基本的0/1背包问题，用动态规划求解。

至此，题目转化为：
有一个箱子容量为$V$（正整数，$0<V≤20000$），同时有$n$个物品（$0<n≤30$），每个物品有一个代价$V$和一个价值$V$。要求这$n$个物品中，任取若干个装入箱内，在不超出箱子容量的情况下，使总价值最大。

所以状态转移方程是：$f[j] = \max(f[j], f[j-cost[i]]+cost[i])$

# 编程实现

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int v = scanner.nextInt(), num = scanner.nextInt();
        int[] cost = new int[num];
        int[] f = new int[v+1];
        for (int i = 0; i < num; i++) {
            cost[i] = scanner.nextInt();
        }
        scanner.close();
        for (int i = 0; i < num; i++) {
            for (int j = v; j >= cost[i]; j--) {
                f[j] = Math.max(f[j], f[j-cost[i]]+cost[i]);
            }
        }
        System.out.println(v-f[v]);
    }
}
```

# 代码提交

[P1049 \[NOIP2001 普及组\] 装箱问题](https://www.luogu.com.cn/problem/P1049)
