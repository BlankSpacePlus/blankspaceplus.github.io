---
title: 趣味算法问题
date: 2019-10-02 10:11:29
summary: 本文分析一些有趣的算法问题，提供思路，不提供代码实现。
mathjax: true
tags:
- 算法
categories:
- 算法分析与设计
---

# 寻找最重的球

假设有8个外观完全相同的球，其中一个稍重，其他球质量相同。
提供一架天平，要求通过两次称重比较找出质量最大的球。

大家毕竟是学计算机的，默认会采用二分的思路，即分成两份，4+4，然后折半，发现超次数了。
其实这题不是这么解的。

我们可以把球分成三堆，3+3+2，先称两个含有3个球的堆。
如果两边质量一样，则再称一次剩下的一堆即可。
如果两边质量不同，则从重的一堆里选出两个。一旦质量还是相同，则剩下的一个就是要找的球，否则就直接得到了答案。

# 海盗分硬币问题

预设的前提是：$n$个海盗分100枚硬币。每个人按顺序提出自己的提议，达到一半人反对某人的提议，此人就会被投入海中喂鲨鱼；而超过一半人支持则此人的建议会被采纳。每个人都是贪婪且聪明的，都会遵守规则，在同等条件下会优先服从先提出的提议。

两个海盗分硬币：
A会分不到硬币，而B会独吞100枚硬币。
因为除非A自己把硬币全给B，否则B必然投反对票，他必死。

三个海盗分硬币：
A会分到99枚硬币，而B只能得到1枚硬币，C则会分不到硬币。
因为只要A被反对致死，则B也分不到硬币。但A如果自己独吞，他必死，还会连累B也分不到硬币。所以A的最优策略就是自己吞下99枚硬币，B得到1枚硬币，C颗粒无收，A和B联手打压C。

四个海盗分硬币：
A会分到98枚硬币，C和D各能分到1枚硬币，B则会分不到硬币。
因为B一定想要A死，因为A死以后，B就能成为三个海盗情境下的A，这对B是最有利的，他没理由支持A。而C和D此时只要得到好处，就没理由反对A，特别是D，一旦进入B的环节他将颗粒无收。
所以A的最优策略是自己吞下98枚硬币，给C和D各1个硬币，联手打压B。

五个海盗分硬币：
A会分到98枚硬币，C和D(或E)各能分到1枚硬币，B和E(或D)则会分不到硬币。
因为B一定想要A死，因为A死以后，B就能成为四个海盗情境下的A，这对B是最有利的，他没理由支持A。只要A被反对致死，则C也分不到硬币，可以联合C。而D或者E肯定在B的环节下只能得到1枚硬币，且进入C的环节也不会获得更好的条件，所以可以拉拢其中一个。
所以A的最优策略是自己吞下98枚硬币，给C和D(或E)各1个硬币，联手打压B和E(或D)。

这个问题在投票机制改成支持一半即通过时，A甚至可以在四个海盗的情境下取得99枚硬币的优势。

其实这个问题的假设条件下，体现了一种规律：在所有人都“聪明”且遵守规则的情况下，先发制人是有意义的，他只需要拉拢需要拉拢的“弱势群体”，打压对自己有威胁的群体，就能获得自己的最优解。

# 数组循环移位问题

数组循环移位问题存在一则优质的算法：时间复杂度$O(n)$，空间复杂度$O(1)$，来自Brian Kernighan的《Software Tools in Pascal》。

用途：在文本编辑器中移动各行、磁盘整理时交换两个不同大小的相邻内存块。

将问题转化为：将数组$AB$转换成数组$BA$（$A$代表数组前$i$个元素，$B$代表数组余下的$n-i$个元素）。
1. 将$A$逆置得到$A^{r}B$。
2. 将$B$转置得到$A^{r}B^{r}$。
3. 将整个$A^{r}B^{r}$转置得到$BA$;

我们将这个函数定义为`Reverse`：
1. `Reverse(0, i-1)`
2. `Reverse(i,  n-1)`
3. `Reverse(0, n-1)`

字符串(字符数组)`abcdefgh`向左循环移3位的执行过程：
1. 得到`cbadefgh`
2. 得到`cbahgfed`
3. 得到`defghabc`

# 区分药品问题

要吃一颗A药一颗B药，两种药看起来一样，现在手上有一粒A两粒B，怎样吃才能不浪费？

思路：是加一片A药，所有药掰成两半，分成两堆，各是一次的药量。

# 鼠鼠试毒问题

1000瓶液体，1瓶有毒，一小时毒发，需要多少只鼠鼠才能一小时试出哪瓶有毒？

推荐阅读：[博客](https://blog.csdn.net/qq_34433210/article/details/84675837)

启发：可以用位做，$2^{10}=1024>1000$，所以要最少要用10只老鼠。

# 跑马竞速问题

64匹马，可用8个赛道，最少几次可以赛出最快的4匹马？

推荐阅读：[博客](https://blog.csdn.net/qq_43827595/article/details/104154641)
