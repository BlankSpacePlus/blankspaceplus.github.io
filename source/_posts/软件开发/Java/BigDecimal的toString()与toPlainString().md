---
title: BigDecimal的toString()与toPlainString()
date: 2020-03-03 13:29:32
summary: 本文比较java.math.BigDecimal的toString()与toPlainString()。
tags:
- Java
categories:
- Java
---

# toString()与toPlainString()

在Java中，java.math.BigDecimal类的toString()和toPlainString()方法都用于将BigDecimal对象转换为字符串，但它们的行为略有不同。

toString()方法将BigDecimal对象转换为指数形式的字符串，这意味着它将在最后添加一个E，后跟一个指数，该指数表示小数点左侧的数字的数量。例如，将BigDecimal对象表示为123456789012345.67890的字符串可能是1.234567890123456789E14。

toPlainString()方法将BigDecimal对象转换为普通的十进制表示形式字符串，而不使用指数表示法。例如，将BigDecimal对象表示为123456789012345.67890的字符串可能是123456789012345.6789。

因此，当需要将BigDecimal对象转换为普通的十进制表示形式字符串时，建议使用toPlainString()方法。

# 实例验证

为了能表示出科学计数法，我们得让数小一点：

```java
BigDecimal num = new BigDecimal(0.2333).pow(20);
```

直接输出BigDecimal对象的值：

```java
System.out.println(num);
```

这条语句相当于调用BigDecimal对象的toString()方法：
```java
System.out.println(num.toString());
```

运行结果：
<font color="red">
2.28189037167401120969664016458058704445821447776153697856333722521431496331550551213930891906957487435112104808347862419891420033162248142531663995155772279146232315410060206987151178648426698855546081020777110688844170619669193518453985280966919855312604013430815833563803446476005419063873594466971526322215177750276141448913214334808975521236293623113834028980688572444044246581431849340824046219938314943100698334559217720778436613420267026603092024290999790614071820410967350767900092513471798538644190754888725556844272602124114705649986642100894001740207945946131697703242257894368252834211931168108684805772879141748782976829469911671275574176661389794305239001858006008883235021362729155223312931934657673225453759580180785170264139962848926240405883081486320326522336957649286875366094925648693739077878530704550560566747517994737139860236090744552245807066682260105331670524231711427517062910685789869039060383532495613756103646363461215507160773269224241213935868860166499926337883991102182710785104859748632046196649414415702494807192124426364898681640625E-13
</font>

而调用BigDecimal对象的toPlainString()时，结果有所不同：

```java
System.out.println(num.toPlainString());
```

运行结果：
<font color="red">
0.000000000000228189037167401120969664016458058704445821447776153697856333722521431496331550551213930891906957487435112104808347862419891420033162248142531663995155772279146232315410060206987151178648426698855546081020777110688844170619669193518453985280966919855312604013430815833563803446476005419063873594466971526322215177750276141448913214334808975521236293623113834028980688572444044246581431849340824046219938314943100698334559217720778436613420267026603092024290999790614071820410967350767900092513471798538644190754888725556844272602124114705649986642100894001740207945946131697703242257894368252834211931168108684805772879141748782976829469911671275574176661389794305239001858006008883235021362729155223312931934657673225453759580180785170264139962848926240405883081486320326522336957649286875366094925648693739077878530704550560566747517994737139860236090744552245807066682260105331670524231711427517062910685789869039060383532495613756103646363461215507160773269224241213935868860166499926337883991102182710785104859748632046196649414415702494807192124426364898681640625
</font>

## 完整代码

```java
import java.math.BigDecimal;

public class BigDecimalTest {
    public static void main(String[] args) {
        BigDecimal num = new BigDecimal(0.2333).pow(20);
        System.out.println(num);
        System.out.println(num.toString());
        System.out.println(num.toPlainString());
    }
}
```

# 说明

当数据不够有区分度时，测试结果也不够明显。

```java
import java.math.BigDecimal;

public class BigDecimalTest {
    public static void main(String[] args) {
        BigDecimal num = new BigDecimal(0.66).pow(10);
        System.out.println(num);
        System.out.println(num.toString());
        System.out.println(num.toPlainString());
    }
}
```

运行结果：
<font color="red">
0.01568336880910796514692485387380358722432090658674607795185185558463356941593280438333875994123155412243735195834705140991618787447848128774946858219534786702323782812590762928242630260751971484116602400344065713771468254349752623195976497313013575753886310637762485552492886146251661530527797289372428420293315321412564193962492477328625977419079453856979274761289232833572242408303626740680597755011834774326410628545344183904639899408459342093849694664301730220414247643012754939939265054482664396573454723693430423736572265625
0.01568336880910796514692485387380358722432090658674607795185185558463356941593280438333875994123155412243735195834705140991618787447848128774946858219534786702323782812590762928242630260751971484116602400344065713771468254349752623195976497313013575753886310637762485552492886146251661530527797289372428420293315321412564193962492477328625977419079453856979274761289232833572242408303626740680597755011834774326410628545344183904639899408459342093849694664301730220414247643012754939939265054482664396573454723693430423736572265625
0.01568336880910796514692485387380358722432090658674607795185185558463356941593280438333875994123155412243735195834705140991618787447848128774946858219534786702323782812590762928242630260751971484116602400344065713771468254349752623195976497313013575753886310637762485552492886146251661530527797289372428420293315321412564193962492477328625977419079453856979274761289232833572242408303626740680597755011834774326410628545344183904639899408459342093849694664301730220414247643012754939939265054482664396573454723693430423736572265625
</font>
