<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Gourmet咖啡系统建模与实现, 星拱北辰">
    <meta name="description" content="空白格的个人博客">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Gourmet咖啡系统建模与实现 | 空白格</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="空白格" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">空白格</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">空白格</div>
        <div class="logo-desc">
            
            空白格的个人博客
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/BlankSpacePlus" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Follow Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/BlankSpacePlus" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Follow Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/3.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Gourmet咖啡系统建模与实现</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">
                                <span class="chip bg-color">软件工程</span>
                            </a>
                        
                            <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
                                <span class="chip bg-color">面向对象</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="post-category">
                                软件工程
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-03-11
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-08-22
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    10.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    62 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Modeling-the-Gourmet-Coffee-System"><a href="#Modeling-the-Gourmet-Coffee-System" class="headerlink" title="Modeling the Gourmet Coffee System"></a>Modeling the Gourmet Coffee System</h1><h2 id="Prerequisites-Goals-and-Outcomes"><a href="#Prerequisites-Goals-and-Outcomes" class="headerlink" title="Prerequisites, Goals, and Outcomes"></a>Prerequisites, Goals, and Outcomes</h2><p><em><strong>Prerequisites</strong></em>: Before you begin this exercise, you need mastery of the following: </p>
<ul>
<li>UML<ul>
<li>Knowledge of class diagram notation</li>
</ul>
</li>
<li>Object-Oriented Design<ul>
<li>Knowledge of modeling concepts: <ul>
<li>Identifying classes </li>
<li>Identifying relationships between classes </li>
<li>Identifying class attributes </li>
<li>Identifying class methods</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><em><strong>Goals</strong></em>: Reinforce your object-oriented design skills </p>
<p><em><strong>Outcomes</strong></em>: You will master the following skills: </p>
<ul>
<li>Produce a UML class diagram, from a specification, that shows: <ul>
<li>classes </li>
<li>attributes </li>
<li>methods </li>
<li>relationships</li>
</ul>
</li>
</ul>
<p><em><strong>Background</strong></em><br>This assignment asks you to model a coffee store application. </p>
<p><em><strong>Description</strong></em><br>Gourmet Coffee is a store that sells coffee from countries around the globe. It also sells coffee brewing machines（咖啡冲泡机） and other accessories for coffee consumption（咖啡消费配件）. The Gourmet Coffee System maintains a product catalog, processes orders, and tracks the store’s sales. </p>
<p>The catalog maintains the following information about the store’s products:</p>
<ul>
<li><p>Coffee </p>
<ul>
<li>Code </li>
<li>Description  </li>
<li>Price  </li>
<li>Country of origin </li>
<li>Type of roast  </li>
<li>Flavor </li>
<li>Aroma </li>
<li>Acidity </li>
<li>Body</li>
</ul>
</li>
<li><p>Coffee brewer  </p>
<ul>
<li>Code </li>
<li>Description </li>
<li>Price </li>
<li>Model of the brewer  </li>
<li>Type of the water supply: Pour-over or Automatic </li>
<li>Capacity: number of cups</li>
</ul>
</li>
<li><p>Coffee accessory  </p>
<ul>
<li>Code </li>
<li>Description </li>
<li>Price</li>
</ul>
</li>
</ul>
<p>The following tables show some of the products sold by Gourmet Coffee. </p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/1.png"><br><em>Figure 1 Coffee</em> </p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/2.png"><br><em>Figure 2 Coffee brewers</em></p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/3.png"><br><em>Figure 3 Coffee accessories</em></p>
<p>The Gourmet Coffee System processes orders. An order contains a list of products, their quantities, and the total cost. The following is an example of an order:</p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/4.png"><br><em>Figure 4 Order</em></p>
<p>In the Gourmet Coffee System, the user can:</p>
<ul>
<li>Display the catalog: lists the code and description of each product </li>
<li>Display a product </li>
<li>Display the current order: lists quantity, code, and price of each product in the current order, and the total of the order. </li>
<li>Add a product to the current order—if the specified product is already part of the order, this command will modify the quantity of that product </li>
<li>Remove a product from the current order </li>
<li>Register the sale of the current order—this command adds the order to the store’s sales and empties the current order </li>
<li>Display the sales: lists all the orders that have been sold</li>
</ul>
<p>Run the sample executable that is provided to learn more about the Gourmet Coffee System.</p>
<p><em><strong>Files</strong></em><br>Following is a sample executable of the Gourmet Coffee System.</p>
<ul>
<li>gourmet-coffee-sample-executable.jar — Download this file now. It is a sample executable.</li>
</ul>
<p><em><strong>Tasks</strong></em><br>These steps will guide you for completing this assignment:</p>
<ul>
<li>First, run the sample executable by issuing the following command at the command prompt:<br>C:&gt;java -jar gourmet-coffee-sample-executable.jar</li>
<li>Then, follow the technique described in page 1.2.5 Modeling Classes to model the Gourmet Coffee System. <ul>
<li>Identify the following:<ul>
<li>The classes </li>
<li>The association relationships (include direction, multiplicity, and association attribute) </li>
<li>The specialization/generalization relationships </li>
<li>The attributes of each class </li>
<li>The methods of each class</li>
</ul>
</li>
<li>Your class diagram should include:<ul>
<li>The class of the gourmet coffee application </li>
<li>The accessor methods </li>
<li>The mutator methods if are needed </li>
<li>For the collections: <ul>
<li>The methods to add and access elements </li>
<li>The methods to remove elements if are needed</li>
</ul>
</li>
<li>The methods that compute other values not included in the attributes.<br>Use Sun’s coding conventions when naming classes, methods, and attributes.</li>
</ul>
</li>
</ul>
</li>
<li>Use Eclipse, Violet, PowerPoint, or another tool of your choosing to draw a UML class diagram. </li>
<li>Save the UML class diagram in a SVG, GIF, or JPG format in a file named uml-gou-cof.</li>
</ul>
<p><em><strong>Submission</strong></em><br>Upon completion, submit only the SVG, GIF, or JPG file uml-gou-cof. The extension of this file will depend on the tool used to create the diagram. </p>
<h2 id="Product类"><a href="#Product类" class="headerlink" title="Product类"></a>Product类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * Product is created to be used as the super class.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> price<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Identifying whether objects are equal by code.</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> product<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>product <span class="token keyword">instanceof</span> <span class="token class-name">Product</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Product</span><span class="token punctuation">)</span>product<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Coffee类"><a href="#Coffee类" class="headerlink" title="Coffee类"></a>Coffee类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * Coffee is Product's subclass. It represents a type of Products which is something special.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coffee</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> countryOfOrigin<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> typeOfRoast<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> flavor<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> aroma<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> acidity<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> body<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">,</span> <span class="token class-name">String</span> countryOfOrigin<span class="token punctuation">,</span> 
            <span class="token class-name">String</span> typeOfRoast<span class="token punctuation">,</span> <span class="token class-name">String</span> flavor<span class="token punctuation">,</span> <span class="token class-name">String</span> aroma<span class="token punctuation">,</span> <span class="token class-name">String</span> acidity<span class="token punctuation">,</span> <span class="token class-name">String</span> body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> description<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>countryOfOrigin <span class="token operator">=</span> countryOfOrigin<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>typeOfRoast <span class="token operator">=</span> typeOfRoast<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flavor <span class="token operator">=</span> flavor<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>aroma <span class="token operator">=</span> aroma<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>acidity <span class="token operator">=</span> acidity<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>body <span class="token operator">=</span> body<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCountryOfOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>countryOfOrigin<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTypeOfRoast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>typeOfRoast<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>flavor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAroma</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>aroma<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAcidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>acidity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>body<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="CoffeeBrewer类"><a href="#CoffeeBrewer类" class="headerlink" title="CoffeeBrewer类"></a>CoffeeBrewer类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * CoffeeBrewer is Product's subclass. It represents a type of Products which is something special.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CoffeeBrewer</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> modelOfTheBrewer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> typeOfTheWaterSupply<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span>    numberOfCups<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">,</span> 
            <span class="token class-name">String</span> modelOfTheBrewer<span class="token punctuation">,</span> <span class="token class-name">String</span> typeOfTheWaterSupply<span class="token punctuation">,</span> <span class="token keyword">int</span> numberOfCups<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> description<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modelOfTheBrewer <span class="token operator">=</span> modelOfTheBrewer<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>typeOfTheWaterSupply <span class="token operator">=</span> typeOfTheWaterSupply<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCups <span class="token operator">=</span> numberOfCups<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getModelOfTheBrewer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modelOfTheBrewer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTypeOfTheWaterSupply</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>typeOfTheWaterSupply<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumberOfCups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCups<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="OrderItem类"><a href="#OrderItem类" class="headerlink" title="OrderItem类"></a>OrderItem类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * An orderItem contains one certain type of product and the quantity of user needs.
 * The class's objects will be added into an order's item list.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderItem</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Product</span> product<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span>     quantity<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span><span class="token class-name">Product</span> product<span class="token punctuation">,</span> <span class="token keyword">int</span> quantity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>product <span class="token operator">=</span> product<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>quantity <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>product<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setQuantity</span><span class="token punctuation">(</span><span class="token keyword">int</span> quantity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>quantity <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to calculate the cost of purchasing the product
     * @return the result
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Order类"><a href="#Order类" class="headerlink" title="Order类"></a>Order类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * the class which saves a certain order's all orderItems
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>

    <span class="token comment">// to save all orderItems.</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">&gt;</span></span> orderItemList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * to add the orderItem to the list.
     * @param orderItem
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addOrderItem</span><span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>orderItemList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>orderItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to delete the orderItem which user wants to delete.
     * @param orderItem
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeOrderItem</span><span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>orderItemList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>orderItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @return the list which saves all orderItems
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllOrderItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>orderItemList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to search the orderItem which user wants to find in the list.
     * @param product
     * @return the orderItem which user wants to find
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">OrderItem</span> <span class="token function">getOrderItem</span><span class="token punctuation">(</span><span class="token class-name">Product</span> product<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem <span class="token operator">:</span> orderItemList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> orderItem<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**    
     * @return the number of orderItems which are saved in the list.
     */</span>     
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumberOfOrderItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>orderItemList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to sum all the orderItems' value in the list.
     * @return the sum of all the orderItems' value.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem <span class="token operator">:</span> orderItemList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">+=</span> orderItem<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Catalog类"><a href="#Catalog类" class="headerlink" title="Catalog类"></a>Catalog类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Catalog is created to save all the product's item.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Catalog</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> products<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Catalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        products <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to add the type of products to the list.
     * @param product
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token class-name">Product</span> product<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>products<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * to search the product which user wants to find in the list.
     * @param code
     * @return the product which user wants to find.
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Product</span> product <span class="token operator">:</span> products<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> product<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @return the list which saves all kinds of products.
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>products<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @return the number of product categories which are saved in the list.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>products<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Sales类"><a href="#Sales类" class="headerlink" title="Sales类"></a>Sales类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * the class which can save all orders.
 * @author BlankSpace
 * @version 2.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sales</span> <span class="token punctuation">{</span>

    <span class="token comment">//to save all orders.</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * to add the order to the list.
     * @param order
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addOrder</span><span class="token punctuation">(</span><span class="token class-name">Order</span> order<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>orders<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @return the list which saves all orders
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>orders<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * @return the number of orders which are saved in the list.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumberOfOrders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>orders<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="GourmetCoffeeSystem类"><a href="#GourmetCoffeeSystem类" class="headerlink" title="GourmetCoffeeSystem类"></a>GourmetCoffeeSystem类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">NumberFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 程序包的可运行部分
 * 使用了单例模式
 * 实际上唯一存在的实例有catalog、currentOrder、sales三个属性
 * @author BlankSpace
 * @version 2.0 
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GourmetCoffee</span> <span class="token punctuation">{</span>

    <span class="token comment">//静态初始化块</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        CURRENCY <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getCurrencyInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//用于后面格式化字符串</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">NumberFormat</span> CURRENCY<span class="token punctuation">;</span>
    <span class="token comment">//用于表示唯一的实例(实现单例模式)</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">GourmetCoffee</span> coffeeSystem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//用于获取整个程序体的输入</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//GourmetCoffeeSystem的三个属性:catalog、currentOrder、sales</span>
    <span class="token keyword">private</span> <span class="token class-name">Catalog</span> catalog<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Order</span>   currentOrder<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Sales</span>   sales<span class="token punctuation">;</span>
    
    <span class="token comment">//private修饰的构造器</span>
    <span class="token keyword">private</span> <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span><span class="token class-name">Catalog</span> catalog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>catalog <span class="token operator">=</span> catalog<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sales <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//main方法，程序的入口</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        coffeeSystem<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 执行初始化，把信息存入Catalog的实例中
     * @return 所有的产品信息
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Catalog</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Catalog</span> catalog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Catalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//这里利用了OOP中的多态：相当于Product product = new Coffee(......);......</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">,</span> <span class="token string">"Colombia, Whole, 1 lb"</span><span class="token punctuation">,</span>         <span class="token number">17.99</span><span class="token punctuation">,</span> <span class="token string">"Colombia"</span><span class="token punctuation">,</span>             
                <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Rich"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">,</span> <span class="token string">"Colombia, Ground, 1 lb"</span><span class="token punctuation">,</span>        <span class="token number">18.75</span><span class="token punctuation">,</span> <span class="token string">"Colombia"</span><span class="token punctuation">,</span>             
                <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Rich"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C003"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roasts, Whole, 1 lb"</span><span class="token punctuation">,</span>   <span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"Italian Roast"</span><span class="token punctuation">,</span> <span class="token string">"Dark and heavy"</span><span class="token punctuation">,</span> <span class="token string">"Intense"</span><span class="token punctuation">,</span> <span class="token string">"Low"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C004"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roasts, Ground, 1 lb"</span><span class="token punctuation">,</span>  <span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"Italian Roast"</span><span class="token punctuation">,</span> <span class="token string">"Dark and heavy"</span><span class="token punctuation">,</span> <span class="token string">"Intense"</span><span class="token punctuation">,</span> <span class="token string">"Low"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C005"</span><span class="token punctuation">,</span> <span class="token string">"French Roasts, Whole, 1 lb"</span><span class="token punctuation">,</span>    <span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"French Roast"</span><span class="token punctuation">,</span> <span class="token string">"Bittersweet, full intense"</span><span class="token punctuation">,</span> <span class="token string">"Intense, full"</span><span class="token punctuation">,</span> <span class="token string">"None"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C006"</span><span class="token punctuation">,</span> <span class="token string">"French Roasts, Ground, 1 lb"</span><span class="token punctuation">,</span>   <span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"French Roast"</span><span class="token punctuation">,</span> <span class="token string">"Bittersweet, full intense"</span><span class="token punctuation">,</span> <span class="token string">"Intense, full"</span><span class="token punctuation">,</span> <span class="token string">"None"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C007"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span>       <span class="token number">17.99</span><span class="token punctuation">,</span> <span class="token string">"Guatemala"</span><span class="token punctuation">,</span>            
                <span class="token string">"Medium"</span><span class="token punctuation">,</span>  <span class="token string">"Rich and complex"</span><span class="token punctuation">,</span> <span class="token string">"Spicy"</span><span class="token punctuation">,</span> <span class="token string">"Medium to high"</span><span class="token punctuation">,</span> <span class="token string">"Medium to full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C008"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span>       <span class="token number">18.75</span><span class="token punctuation">,</span> <span class="token string">"Guatemala"</span><span class="token punctuation">,</span>            
                <span class="token string">"Medium"</span><span class="token punctuation">,</span>  <span class="token string">"Rich and complex"</span><span class="token punctuation">,</span> <span class="token string">"Spicy"</span><span class="token punctuation">,</span> <span class="token string">"Medium to high"</span><span class="token punctuation">,</span> <span class="token string">"Medium to full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C009"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Whole, 1 lb"</span><span class="token punctuation">,</span>        <span class="token number">19.99</span><span class="token punctuation">,</span> <span class="token string">"Sumatra"</span><span class="token punctuation">,</span>              
                <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Vibrant and powdery"</span><span class="token punctuation">,</span> <span class="token string">"Like dark chocolate"</span><span class="token punctuation">,</span> <span class="token string">"Gentle"</span><span class="token punctuation">,</span> <span class="token string">"Rich and full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C010"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span>       <span class="token number">20.50</span><span class="token punctuation">,</span> <span class="token string">"Sumatra"</span><span class="token punctuation">,</span>              
                <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Vibrant and powdery"</span><span class="token punctuation">,</span> <span class="token string">"Like dark chocolate"</span><span class="token punctuation">,</span> <span class="token string">"Gentle"</span><span class="token punctuation">,</span> <span class="token string">"Rich and full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C011"</span><span class="token punctuation">,</span> <span class="token string">"Special Blend, Whole, 1 lb"</span><span class="token punctuation">,</span>    <span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"Dark roast"</span><span class="token punctuation">,</span> <span class="token string">"Full, roasted flavor"</span><span class="token punctuation">,</span> <span class="token string">"Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Bold and rich"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C012"</span><span class="token punctuation">,</span> <span class="token string">"Special Blend, Ground, 1 lb"</span><span class="token punctuation">,</span>   <span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> 
                <span class="token string">"Dark roast"</span><span class="token punctuation">,</span> <span class="token string">"Full, roasted flavor"</span><span class="token punctuation">,</span> <span class="token string">"Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Bold and rich"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B001"</span><span class="token punctuation">,</span> <span class="token string">"Home Coffee Brewer"</span><span class="token punctuation">,</span>          <span class="token number">150.0</span><span class="token punctuation">,</span>
                <span class="token string">"Brewer 100"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">,</span> <span class="token string">"Coffee Brewer, 2 Warmers"</span><span class="token punctuation">,</span>    <span class="token number">200.0</span><span class="token punctuation">,</span> 
                <span class="token string">"Brewer 200"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B003"</span><span class="token punctuation">,</span> <span class="token string">"Coffee Brewer, 3 Warmers"</span><span class="token punctuation">,</span>    <span class="token number">280.0</span><span class="token punctuation">,</span> 
                <span class="token string">"Brewer 210"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B004"</span><span class="token punctuation">,</span> <span class="token string">"Commercial Brewer, 20 cups"</span><span class="token punctuation">,</span>  <span class="token number">380.0</span><span class="token punctuation">,</span> 
                <span class="token string">"Quick Coffee 100"</span><span class="token punctuation">,</span> <span class="token string">"Automatic"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B005"</span><span class="token punctuation">,</span> <span class="token string">"Commercial Brewer, 40 cups"</span><span class="token punctuation">,</span>  <span class="token number">480.0</span><span class="token punctuation">,</span> 
                <span class="token string">"Quick Coffee 200"</span><span class="token punctuation">,</span> <span class="token string">"Automatic"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">,</span> <span class="token string">"Almond Flavored Syrup"</span><span class="token punctuation">,</span>            <span class="token number">9.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A002"</span><span class="token punctuation">,</span> <span class="token string">"Irish Creme Flavored Syrup"</span><span class="token punctuation">,</span>       <span class="token number">9.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A003"</span><span class="token punctuation">,</span> <span class="token string">"Mint Flavored syrup"</span><span class="token punctuation">,</span>              <span class="token number">9.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A004"</span><span class="token punctuation">,</span> <span class="token string">"Caramel Flavored Syrup"</span><span class="token punctuation">,</span>           <span class="token number">9.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A005"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Cookies"</span><span class="token punctuation">,</span>           <span class="token number">12.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A006"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Travel Thermo"</span><span class="token punctuation">,</span>     <span class="token number">18.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A007"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Ceramic Mug"</span><span class="token punctuation">,</span>       <span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A008"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee 12 Cup Filters"</span><span class="token punctuation">,</span>    <span class="token number">15.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A009"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee 36 Cup Filters"</span><span class="token punctuation">,</span>    <span class="token number">45.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> catalog<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//对传统印象中的for循环语句加以改造，使之更灵活</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> choice <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> choice <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> choice <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//不需要default语句，因为在获取输入的时候就稳妥的处理了数据</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>choice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">displayCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">displayProductInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">displayOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addOrModifyProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saleOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">displayOrdersSold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * 打印主菜单的方法
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printMainMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                 <span class="token comment">//退出系统</span>
                 <span class="token string">"[0]  Quit\n"</span>
                 <span class="token comment">//显示目录：列出每个产品的代码和描述</span>
                 <span class="token operator">+</span> <span class="token string">"[1]  Display catalog\n"</span>
                 <span class="token comment">//显示产品</span>
                 <span class="token operator">+</span> <span class="token string">"[2]  Display product\n"</span>
                 <span class="token comment">//显示当前订单：列出当前订单中每个产品的数量、代码和价格，以及订单总价格。</span>
                 <span class="token operator">+</span> <span class="token string">"[3]  Display current order\n"</span>
                 <span class="token comment">//将产品添加到当前订单,如果指定的产品已经是订单的一部分，此命令将修改该产品的数量</span>
                 <span class="token operator">+</span> <span class="token string">"[4]  Add|modify product to|in current order\n"</span>
                 <span class="token comment">//从当前订单中删除产品</span>
                 <span class="token operator">+</span> <span class="token string">"[5]  Remove product from current order\n"</span>
                 <span class="token comment">//注册当前订单的销售此命令将订单添加到商店的销售中并清空当前订单</span>
                 <span class="token operator">+</span> <span class="token string">"[6]  Register sale of current order\n"</span>
                 <span class="token comment">//显示销售：列出所有已售出的订单</span>
                 <span class="token operator">+</span> <span class="token string">"[7]  Display sales"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 读取、处理选择值的方法
     * 与用户交互，读取选择的数据加以处理
     * @return 选择
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//不满足条件，循环会一直持续下去</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">printMainMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> choice <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//提前处理数据，只有输入0到7的整数才是合法的</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;=</span> choice <span class="token operator">&amp;&amp;</span> choice <span class="token operator">&lt;=</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> choice<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//提示用户输入错误</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid choice:  "</span> <span class="token operator">+</span> choice<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> numberFormatException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//打印异常</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numberFormatException<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印所有产品信息的方法
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displayCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numberOfProducts <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>numberOfProducts <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The catalog is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Product</span> product <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getAllProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印所选产品信息的方法
     * 利用instance of来分析判断前面的对象是否是后面的类或其子类、实现类的实例，使代码更加健壮
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displayProductInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Description: "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Price: "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token keyword">instanceof</span> <span class="token class-name">Coffee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//进行强制类型转换</span>
                <span class="token class-name">Coffee</span> coffee <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Coffee</span><span class="token punctuation">)</span>product<span class="token punctuation">;</span>
                <span class="token comment">//输出咖啡产品信息</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Origin: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getCountryOfOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Roast: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getTypeOfRoast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Flavor: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Aroma: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getAroma</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Acidity: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getAcidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Body: "</span> <span class="token operator">+</span> coffee<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token keyword">instanceof</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">CoffeeBrewer</span> coffeeBrewer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">CoffeeBrewer</span><span class="token punctuation">)</span>product<span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Model: "</span> <span class="token operator">+</span> coffeeBrewer<span class="token punctuation">.</span><span class="token function">getModelOfTheBrewer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Water Supply: "</span> <span class="token operator">+</span> coffeeBrewer<span class="token punctuation">.</span><span class="token function">getTypeOfTheWaterSupply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Number of Cups: "</span> <span class="token operator">+</span> coffeeBrewer<span class="token punctuation">.</span><span class="token function">getNumberOfCups</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are no products with that code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 打印订单信息的方法
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displayOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numberOfOrderItems <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getNumberOfOrderItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>numberOfOrderItems <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The current order is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getAllOrderItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>orderItem<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Total: "</span> <span class="token operator">+</span> CURRENCY<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 添加或修改订单中产品信息的方法
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">addOrModifyProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> quantity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">OrderItem</span> orderItem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getOrderItem</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>orderItem <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">addOrderItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> quantity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The product "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" has been added"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                orderItem<span class="token punctuation">.</span><span class="token function">setQuantity</span><span class="token punctuation">(</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The quantity of the product "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" has been modified"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are no products with that code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 清除订单信息中某一产品信息的方法
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">removeProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>product <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">OrderItem</span> orderItem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getOrderItem</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>orderItem <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">removeOrderItem</span><span class="token punctuation">(</span>orderItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The product "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" has been removed from the current order"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are no products in the current order with that code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are no products with that code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 交易当前订单的方法
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">saleOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getNumberOfOrderItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The sale of the order has been registered"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The current order is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 展示交易过的订单的方法
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displayOrdersSold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取交易过的订单数</span>
        <span class="token keyword">int</span> numberOfOrders <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">getNumberOfOrders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>numberOfOrders <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Order</span> order <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">getAllOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Order "</span> <span class="token operator">+</span> count<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">OrderItem</span> orderItem <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentOrder<span class="token punctuation">.</span><span class="token function">getAllOrderItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"   "</span> <span class="token operator">+</span> orderItem<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"   Total: "</span> <span class="token operator">+</span> CURRENCY<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"There are no sales"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 读取要检索的产品的方法
     * @return 要检索的产品
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Product</span> <span class="token function">readProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Product code&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 读取购买数的方法
     * @return 购买数
     * @throws IOException
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">readQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Quantity&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> quantity <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>quantity <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> quantity<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid input. Please enter a positive integer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h2><p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/5.jpg"></p>
<h1 id="Using-Design-Patterns-in-the-Gourmet-Coffee-System"><a href="#Using-Design-Patterns-in-the-Gourmet-Coffee-System" class="headerlink" title="Using Design Patterns in the Gourmet Coffee System"></a>Using Design Patterns in the Gourmet Coffee System</h1><h2 id="Prerequisites-Goals-and-Outcomes-1"><a href="#Prerequisites-Goals-and-Outcomes-1" class="headerlink" title="Prerequisites, Goals, and Outcomes"></a>Prerequisites, Goals, and Outcomes</h2><p><em><strong>Prerequisites</strong></em><br>Before you begin this exercise, you need mastery of the following: </p>
<ul>
<li>Object-oriented Programming<ul>
<li>How to define interfaces </li>
<li>How to implement interfaces</li>
</ul>
</li>
<li>Design Patterns: <ul>
<li>Knowledge of the singleton pattern </li>
<li>Knowledge of the strategy pattern</li>
</ul>
</li>
</ul>
<p><em><strong>Goals</strong></em><br>Reinforce your ability to use the singleton and strategy patterns </p>
<p><em><strong>Outcomes</strong></em><br>You will demonstrate mastery in the following: </p>
<ul>
<li>Producing applications that use the singleton pattern </li>
<li>Producing applications that use the strategy pattern</li>
</ul>
<p><em><strong>Background</strong></em><br>In this assignment, you will create another version of the Gourmet Coffee System. This version will present the user with four choices:</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token class-name">Quit</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name">Display</span> sales <span class="token punctuation">(</span><span class="token class-name">Plain</span> <span class="token class-name">Text</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token class-name">Display</span> sales <span class="token punctuation">(</span>HTML<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token class-name">Display</span> sales <span class="token punctuation">(</span>XML<span class="token punctuation">)</span>
choice<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>The user will be able to display the sales information in three formats: plain text, HTML, or XML. Part of the work has been done for you and is provided in the student archive. You will implement the code that formats the sales information. This code will use the singleton and strategy patterns. </p>
<p><em><strong>Description</strong></em><br>The following class diagram shows how the singleton and strategy pattern will be used in your implementation:</p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/6.png"></p>
<p><em>Figure 1 Portion of Gourmet Coffee System class diagram</em></p>
<ul>
<li>Interface <strong>SalesFormatter</strong> declares a method called formatSales that produces a string representation of the sales information. </li>
<li>Class <strong>PlainTextSalesFormatter</strong> implements formatSales. Its version returns the sales information in a plain-text format. </li>
<li>Class <strong>HTMLSalesFormatter</strong> implements formatSales. Its version returns the sales information in an HTML format. </li>
<li>Class <strong>XMLSalesFormatter</strong> implements formatSales. Its version returns the sales information in an XML format. </li>
<li>Class <strong>GourmetCoffee</strong> is the context class. It also contains client code. The client code calls: <ul>
<li>Method GourmetCoffee.setSalesFormatter to change the current formatter </li>
<li>Method GourmetCoffee.displaySales to display the sales information using the current formatter</li>
</ul>
</li>
</ul>
<p>In this assignment, you should implement the following interface and classes:</p>
<ul>
<li><strong>SalesFormatter</strong></li>
<li><strong>PlainTextSalesFormatter</strong></li>
<li><strong>HTMLSalesFormatter</strong></li>
<li><strong>XMLSalesFormatter</strong></li>
<li><strong>GourmetCoffee</strong> <em>(a partial implementation is provided in the student archive)</em></li>
</ul>
<p>Complete implementations of the following classes are provided in the student archive:</p>
<ul>
<li><strong>Coffee</strong></li>
<li><strong>CoffeeBrewer</strong></li>
<li><strong>Product</strong></li>
<li><strong>Catalog</strong></li>
<li><strong>OrderItem</strong></li>
<li><strong>Order</strong></li>
<li><strong>Sales</strong></li>
</ul>
<h2 id="Interface-SalesFormatter"><a href="#Interface-SalesFormatter" class="headerlink" title="Interface SalesFormatter"></a>Interface SalesFormatter</h2><p>Interface SalesFormatter declares the method that every “Formatter” class will implement.</p>
<p><em><strong>Method:</strong></em></p>
<ul>
<li><em><strong>public String formatSales(Sales sales):</strong></em> Produces a string representation of the sales information.</li>
</ul>
<h2 id="Class-PlainTextSalesFormatter"><a href="#Class-PlainTextSalesFormatter" class="headerlink" title="Class PlainTextSalesFormatter"></a>Class PlainTextSalesFormatter</h2><p>Class PlainTextSalesFormatter implements the interface SalesFormatter. This class is implemented as a singleton so a new object will not be created every time the plain-text format is used.</p>
<p><em><strong>Static variable:</strong></em></p>
<ul>
<li><em><strong>singletonInstance:</strong></em> The single instance of class PlainTextSalesFormatter.</li>
</ul>
<p><em><strong>Constructor and methods:</strong></em></p>
<ul>
<li><em><strong>static public PlainTextSalesFormatter getSingletonInstance():</strong></em> Static method that obtains the single instance of class PlainTextsalesFormatter. </li>
<li><em><strong>private PlainTextSalesFormatter():</strong></em> Constructor that is declared private so it is inaccessible to other classes. A private constructor makes it impossible for any other class to create an instance of class PlainTextSalesFormatter. </li>
<li><em><strong>public String formatSales(Sales sales):</strong></em> Produces a string that contains the specified sales information in a plain-text format. Each order in the sales information has the following format:</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> number

quantity1code1price1
quantity2code2price2
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
quantityNcodeNpriceN

<span class="token class-name">Total</span> <span class="token operator">=</span> totalCost<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em><strong>where</strong></em> </p>
<ul>
<li><strong>number</strong> is the order number. </li>
<li><strong>quantityX</strong> is the quantity of the product. </li>
<li><strong>codeX</strong> is the code of the product. </li>
<li><strong>priceX</strong> is the price of the product. </li>
<li><strong>totalCost</strong> is the total cost of the order.</li>
</ul>
<p>Each order should begin with a dashed line. The first order in the sales information should be given an order number of 1, the second should be given an order number of 2, and so on.</p>
<h2 id="Class-HTMLSalesFormatter"><a href="#Class-HTMLSalesFormatter" class="headerlink" title="Class HTMLSalesFormatter"></a>Class HTMLSalesFormatter</h2><p>Class HTMLSalesFormatter implements the interface SalesFormatter. This class is implemented as a singleton so a new object will not be created every time the HTML format is used.</p>
<p><em><strong>Static variable:</strong></em></p>
<ul>
<li><em><strong>singletonInstance:</strong></em> The single instance of class HTMLSalesFormatter.</li>
</ul>
<p><em><strong>Constructor and methods:</strong></em></p>
<ul>
<li><em><strong>static public HTMLSalesFormatter getSingletonInstance():</strong></em> Static method that obtains the single instance of class HTMLSalesFormatter. </li>
<li><em><strong>private HTMLSalesFormatter():</strong></em> Constructor that is declared private so it is inaccessible to other classes. A private constructor makes it impossible for any other class to create an instance of class HTMLSalesFormatter. </li>
<li><em><strong>public String formatSales(Sales sales):</strong></em> Produces a string that contains the specified sales information in an HTML format.</li>
</ul>
<p>The string should begin with the following HTML: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Orders<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>Each order in the sales information should begin with horizontal line, that is, an <strong>&lt;hr&gt;</strong> tag. </p>
<p>Each order in the sales information should have the following format: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = totalCost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>code1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>quantity1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>price1
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>codeN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>quantityN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>priceN
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>where:</p>
<ul>
<li><strong>quantityX</strong> is the quantity of the product. </li>
<li><strong>codeX</strong> is the code of the product. </li>
<li><strong>priceX</strong> is the price of the product. </li>
<li><strong>totalCost</strong> is the total cost of the order.</li>
</ul>
<p>The string should end with the following HTML: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="Class-XMLSalesFormatter"><a href="#Class-XMLSalesFormatter" class="headerlink" title="Class XMLSalesFormatter"></a>Class XMLSalesFormatter</h2><p>Class XMLSalesFormatter implements the interface SalesFormatter. This class is implemented as a singleton so a new object will not be created every time the XML format is used.</p>
<p><em><strong>Static variable:</strong></em></p>
<ul>
<li><em><strong>singletonInstance:</strong></em> The single instance of class XMLSalesFormatter.</li>
</ul>
<p><em><strong>Constructor and methods:</strong></em></p>
<ul>
<li><em><strong>static public XMLSalesFormatter getSingletonInstance():</strong></em> Static method that obtains the single instance of class XMLSalesFormatter. </li>
<li><em><strong>private XMLSalesFormatter():</strong></em> Constructor that is declared private so it is inaccessible to other classes. A private constructor makes it impossible for any other class to create an instance of class XMLSalesFormatter. </li>
<li><em><strong>public String formatSales(Sales sales):</strong></em> Produces a string that contains the specified sales information in an XML format.</li>
</ul>
<p>The string should begin with the following XML: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sales</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>Each order in the sales information should have the following format: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>totalCost<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantity1<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>price1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>code1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantityN<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>priceN<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>codeN<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>where:</strong></em></p>
<ul>
<li><strong>quantityX</strong> is the quantity of the product. </li>
<li><strong>codeX</strong> is the code of the product. </li>
<li><strong>priceX</strong> is the price of the product. </li>
<li><strong>totalCost</strong> is the total cost of the order.</li>
</ul>
<p>The string should end with the following XML: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Sales</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="Class-GourmetCoffee"><a href="#Class-GourmetCoffee" class="headerlink" title="Class GourmetCoffee"></a>Class GourmetCoffee</h2><p>Class GourmetCoffee lets the user display the sales information in one of three formats: <strong>plain text</strong>, <strong>HTML</strong>, or <strong>XML</strong>. A partial implementation of this class is provided in the student archive. </p>
<p><em><strong>Instance variables:</strong></em></p>
<ul>
<li><em><strong>private Sales sales:</strong></em> A list of the orders that have been paid for. </li>
<li><em><strong>private SalesFormatter salesFormatter:</strong></em> A reference variable that refers to the current formatter: a PlainTextSalesFormatter, HTMLSalesFormatter, or XMLSalesFormatter object.</li>
</ul>
<p><em><strong>Constructor and methods:</strong></em><br>The following methods and constructor are complete and require no modification:</p>
<ul>
<li><em><strong>public static void main(String[] args) throws IOException:</strong></em> Starts the application. </li>
<li><em><strong>private GourmetCoffee():</strong></em> Initialize instance variables sales and salesFormatter. </li>
<li><em><strong>private Catalog loadCatalog():</strong></em> Populates the product catalog. </li>
<li><em><strong>private void loadSales(Catalog catalog):</strong></em> Populates the sales object. </li>
<li><em><strong>private int getChoice() throws IOException:</strong></em> Displays a menu of options and verifies the user’s choice.</li>
</ul>
<p><em><strong>The following methods should be completed:</strong></em></p>
<ul>
<li><em><strong>private void setSalesFormatter(SalesFormatter newFormatter):</strong></em> Changes the current formatter by updating the instance variable salesFormatter with the object specified in the parameter newFormatter. </li>
<li><em><strong>private void displaySales():</strong></em> Displays the sales information in the standard output using the method salesFormatter.formatSales to obtain the sales information in the current format. </li>
<li><em><strong>private void run() throws IOException:</strong></em> Presents the user with a menu of options and executes the selected task <ul>
<li>If the user chooses <strong>option 1</strong>, run calls method setSalesFormatter with the singleton instance of class PlainTextSalesFormatter, and calls method displaySales to display the sales information in the standard output. </li>
<li>If the user chooses <strong>option 2</strong>, run calls method setSalesFormatter with the singleton instance of class HTMLSalesFormatter, and calls method displaySales to display the sales information in the standard output. </li>
<li>If the user chooses <strong>option 3</strong>, run calls method setSalesFormatter with the singleton instance of class XMLTextSalesFormatter, and calls method displaySales to display the sales information in the standard output.</li>
</ul>
</li>
</ul>
<p><em><strong>Files</strong></em><br>The following files are needed to complete this assignment: </p>
<ul>
<li><em><strong>student-files.zip</strong></em> — Download this file. This archive contains the following: </li>
<li><em><strong>Class files</strong></em> <ul>
<li><em><strong>Coffee.class</strong></em></li>
<li><em><strong>CoffeeBrewer.class</strong></em></li>
<li><em><strong>Product.class</strong></em></li>
<li><em><strong>Catalog.class</strong></em></li>
<li><em><strong>OrderItem.class</strong></em></li>
<li><em><strong>Order.class</strong></em></li>
<li><em><strong>Sales.class</strong></em></li>
</ul>
</li>
<li><em><strong>Documentation</strong></em> <ul>
<li><em><strong>Coffee.html</strong></em></li>
<li><em><strong>CoffeeBrewer.html</strong></em></li>
<li><em><strong>Product.html</strong></em> </li>
<li><em><strong>Catalog.html</strong></em></li>
<li><em><strong>OrderItem.html</strong></em></li>
<li><em><strong>Order.html</strong></em></li>
<li><em><strong>Sales.html</strong></em></li>
</ul>
</li>
<li><em><strong>GourmetCoffee.java</strong></em>. A partial implementation of the class <strong>GourmetCoffee</strong>.</li>
</ul>
<p><em><strong>Tasks</strong></em><br>Implement the interface <strong>SalesFormatter</strong> and the classes <strong>PlainTextSalesFormatter</strong>, <strong>HTMLSalesFormatter</strong>, <strong>XMLSalesFormatter</strong>. Finish the implementation of class <strong>GourmetCoffee</strong>. Document using Javadoc and follow Sun’s code conventions. The following steps will guide you through this assignment. Work incrementally and test each increment. Save often.</p>
<ol>
<li><pre><code>Extract the files by issuing the following command at the command prompt:
</code></pre>
</li>
</ol>
<p><strong>C:&gt;unzip student-files.zip</strong><br>2.	Then, implement interface <strong>SalesFormatter</strong> from scratch.<br>3.	Next, implement class <strong>PlainTextSalesFormatter</strong> from scratch.<br>4.	Then, implement class <strong>HTMLSalesFormatter</strong> from scratch.<br>5.	Next, implement class <strong>XMLSalesFormatter</strong> from scratch.<br>6.	Then, complete the method <strong>GourmetCoffee.setSalesFormatter</strong>.<br>7.	Next, complete the method <strong>GourmetCoffee.displaySales</strong>.<br>8.	Then, complete the method <strong>GourmetCoffee.run</strong>.<br>9.	Finally, compile and execute the class <strong>GourmetCoffee</strong>. Sales information has been hard-coded in the GourmetCoffee template provided by <strong>iCarnegie</strong>. </p>
<ul>
<li>If the user chooses to display the sales information in plain text, the output should be:</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">1</span>

<span class="token number">5</span> C001 <span class="token number">17.99</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">89.94999999999999</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">2</span>

<span class="token number">2</span> C002 <span class="token number">18.75</span>
<span class="token number">2</span> A001 <span class="token number">9.0</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">55.5</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">3</span>

<span class="token number">1</span> B002 <span class="token number">200.0</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">200.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>If the user chooses to display the sales information in HTML, the output should be: <pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Orders<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 89.94999999999999<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> C001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 17.99
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 55.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> C002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 18.75
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> A001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 9.0
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 200.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> B002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 200.0
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li>If the user chooses to display the sales information in XML, the output should be: <pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sales</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>89.94999999999999<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17.99<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>C001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>55.5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18.75<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>C002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>A001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>B002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Sales</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p><em><strong>Submission</strong></em><br>Upon completion, submit <strong>only</strong> the following:<br>1.	SalesFormatter.java<br>2.	PlainTextSalesFormatter.java<br>3.	HTMLSalesFormatter.java<br>4.	XMLSalesFormatter.java<br>5.	GourmetCoffee.java</p>
<h2 id="SalesFormatter类"><a href="#SalesFormatter类" class="headerlink" title="SalesFormatter类"></a>SalesFormatter类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SalesFormatter</span> <span class="token punctuation">{</span>
    
    <span class="token comment">//Produces a string representation of the sales information.</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token class-name">Sales</span> sales<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="PlainTextSalesFormatter类"><a href="#PlainTextSalesFormatter类" class="headerlink" title="PlainTextSalesFormatter类"></a>PlainTextSalesFormatter类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlainTextSalesFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">SalesFormatter</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PlainTextSalesFormatter</span> singletonInstance<span class="token punctuation">;</span>   
    
    <span class="token keyword">private</span> <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token punctuation">}</span>   
       
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">PlainTextSalesFormatter</span> <span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token keyword">if</span> <span class="token punctuation">(</span>singletonInstance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>   
            singletonInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">return</span> singletonInstance<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
       
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token class-name">Sales</span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>   
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> iterator1 <span class="token operator">=</span> sales<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Order</span> order <span class="token operator">=</span> iterator1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            string <span class="token operator">+=</span><span class="token string">"---------------------\r\n"</span><span class="token punctuation">;</span>   
            string <span class="token operator">+=</span> <span class="token string">"Order "</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"\r\n\r\n"</span><span class="token punctuation">;</span> 
            <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">&gt;</span></span> iterator2 <span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>iterator2<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">OrderItem</span> orderItem <span class="token operator">=</span> iterator2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                string <span class="token operator">+=</span> orderItem<span class="token punctuation">.</span><span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\r\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>   
            string <span class="token operator">+=</span> <span class="token string">"\r\n"</span> <span class="token operator">+</span> <span class="token string">"Total = "</span> <span class="token operator">+</span> order<span class="token punctuation">.</span><span class="token function">getTotalCost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\r\n"</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>  
        <span class="token keyword">return</span> string<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="HTMLSalesFormatter类"><a href="#HTMLSalesFormatter类" class="headerlink" title="HTMLSalesFormatter类"></a>HTMLSalesFormatter类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HTMLSalesFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">SalesFormatter</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">HTMLSalesFormatter</span> singletonInstance<span class="token punctuation">;</span>   
    
    <span class="token keyword">private</span> <span class="token class-name">HTMLSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token punctuation">}</span>   
        
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">HTMLSalesFormatter</span> <span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token keyword">if</span> <span class="token punctuation">(</span>singletonInstance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>   
            singletonInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">return</span> singletonInstance<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
       
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token class-name">Sales</span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>   
        string <span class="token operator">+=</span><span class="token string">"&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;center&gt;&lt;h2&gt;Orders&lt;/h2&gt;&lt;/center&gt;\r\n"</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> iterator1 <span class="token operator">=</span> sales<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Order</span> order <span class="token operator">=</span> iterator1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            string <span class="token operator">+=</span> <span class="token string">"    &lt;hr&gt;\r\n    &lt;h4&gt;Total = "</span> <span class="token operator">+</span> order<span class="token punctuation">.</span><span class="token function">getTotalCost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;/h4&gt;\r\n      &lt;p&gt;\r\n"</span><span class="token punctuation">;</span>  
            <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">&gt;</span></span> iterator2 <span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>iterator2<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">OrderItem</span> orderItem <span class="token operator">=</span> iterator2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                string <span class="token operator">+=</span> <span class="token string">"        &lt;b&gt;code:&lt;/b&gt; "</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;br&gt;\r\n"</span> <span class="token operator">+</span> <span class="token string">"        &lt;b&gt;quantity:&lt;/b&gt; "</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;br&gt;\r\n"</span><span class="token operator">+</span><span class="token string">"        &lt;b&gt;price:&lt;/b&gt; "</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\r\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>  
            string <span class="token operator">+=</span> <span class="token string">"      &lt;/p&gt;\r\n"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>  
        string <span class="token operator">+=</span> <span class="token string">"  &lt;/body&gt;\r\n&lt;/html&gt;\r\n"</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> string<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="XMLSalesFormatter类"><a href="#XMLSalesFormatter类" class="headerlink" title="XMLSalesFormatter类"></a>XMLSalesFormatter类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMLSalesFormatter</span> <span class="token keyword">implements</span> <span class="token class-name">SalesFormatter</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">XMLSalesFormatter</span> singletonInstance<span class="token punctuation">;</span>   
    
    <span class="token keyword">private</span> <span class="token class-name">XMLSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token punctuation">}</span>   
       
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">XMLSalesFormatter</span> <span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token keyword">if</span> <span class="token punctuation">(</span>singletonInstance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>   
            singletonInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLSalesFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">return</span> singletonInstance<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
       
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token class-name">Sales</span> sales<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>   
        string <span class="token operator">+=</span><span class="token string">"&lt;Sales&gt;\r\n"</span><span class="token punctuation">;</span> 
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> iterator1 <span class="token operator">=</span> sales<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Order</span> order <span class="token operator">=</span> iterator1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            string <span class="token operator">+=</span> <span class="token string">"  &lt;Order total=\""</span><span class="token operator">+</span>order<span class="token punctuation">.</span><span class="token function">getTotalCost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\"&gt;\r\n"</span><span class="token punctuation">;</span>  
            <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">&gt;</span></span> iterator2 <span class="token operator">=</span> order<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>iterator2<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">OrderItem</span> orderItem <span class="token operator">=</span> iterator2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                string <span class="token operator">+=</span> <span class="token string">"    &lt;OrderItem quantity=\""</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\" price=\""</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\"&gt;"</span><span class="token operator">+</span>orderItem<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;/OrderItem&gt;\r\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>  
            string <span class="token operator">+=</span> <span class="token string">"  &lt;/Order&gt;\r\n"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>  
        string <span class="token operator">+=</span> <span class="token string">"&lt;/Sales&gt;\r\n"</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> string<span class="token punctuation">;</span>     
    <span class="token punctuation">}</span>   

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="GourmetCoffee类"><a href="#GourmetCoffee类" class="headerlink" title="GourmetCoffee类"></a>GourmetCoffee类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This class implements a gourmet coffee system.
 *
 * @author BlankSpace
 * @version 1.1.0
 * @see Product
 * @see Coffee
 * @see CoffeeBrewer
 * @see Catalog
 * @see OrderItem
 * @see Order
 * @see SalesFormatter
 * @see PlainTextSalesFormatter
 * @see HTMLSalesFormatter
 * @see XMLSalesFormatter
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GourmetCoffee</span>  <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">BufferedReader</span>  stdIn <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span>  <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdOut <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdErr <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">Sales</span>  sales<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">SalesFormatter</span>  salesFormatter<span class="token punctuation">;</span>

	<span class="token comment">/**
	 * Loads data into the catalog and starts the application.
	 *
	 * @param args  String arguments.  Not used.
	 * @throws IOException if there are errors in the input.
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
		<span class="token class-name">GourmetCoffee</span>  application <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		application<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Constructs a `GourmetCoffee` object and
	 * initializes the catalog and sales data.
	 *
	 * @param initialCatalog a product catalog
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sales <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span> <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">loadSales</span><span class="token punctuation">(</span><span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Creates an empty catalog and then add products to it.
	 *
	 * @return a product catalog
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">Catalog</span> <span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Catalog</span> catalog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Catalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">,</span> <span class="token string">"Colombia, Whole, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">17.99</span><span class="token punctuation">,</span>
				<span class="token string">"Colombia"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Rich"</span><span class="token punctuation">,</span>
				<span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">,</span> <span class="token string">"Colombia, Ground, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">18.75</span><span class="token punctuation">,</span>
				<span class="token string">"Colombia"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Rich"</span><span class="token punctuation">,</span>
				<span class="token string">"Medium"</span><span class="token punctuation">,</span><span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C003"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roasts, Whole, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Dark and heavy"</span><span class="token punctuation">,</span> <span class="token string">"Intense"</span><span class="token punctuation">,</span> <span class="token string">"Low"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C004"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roasts, Ground, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"Italian Roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Dark and heavy"</span><span class="token punctuation">,</span> <span class="token string">"Intense"</span><span class="token punctuation">,</span> <span class="token string">"Low"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C005"</span><span class="token punctuation">,</span> <span class="token string">"French Roasts, Whole, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"French Roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Bittersweet, full intense"</span><span class="token punctuation">,</span> <span class="token string">"Intense, full"</span><span class="token punctuation">,</span> <span class="token string">"None"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C006"</span><span class="token punctuation">,</span> <span class="token string">"French Roasts, Ground, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"French Roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Bittersweet, full intense"</span><span class="token punctuation">,</span> <span class="token string">"Intense, full"</span><span class="token punctuation">,</span> <span class="token string">"None"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C007"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">17.99</span><span class="token punctuation">,</span>
				<span class="token string">"Guatemala"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and complex"</span><span class="token punctuation">,</span> <span class="token string">"Spicy"</span><span class="token punctuation">,</span>
				<span class="token string">"Medium to high"</span><span class="token punctuation">,</span> <span class="token string">"Medium to full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C008"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">18.75</span><span class="token punctuation">,</span>
				<span class="token string">"Guatemala"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Rich and complex"</span><span class="token punctuation">,</span> <span class="token string">"Spicy"</span><span class="token punctuation">,</span>
				<span class="token string">"Medium to high"</span><span class="token punctuation">,</span> <span class="token string">"Medium to full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C009"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Whole, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">19.99</span><span class="token punctuation">,</span>
				<span class="token string">"Sumatra"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Vibrant and powdery"</span><span class="token punctuation">,</span>
				<span class="token string">"Like dark chocolate"</span><span class="token punctuation">,</span> <span class="token string">"Gentle"</span><span class="token punctuation">,</span> <span class="token string">"Rich and full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C010"</span><span class="token punctuation">,</span> <span class="token string">"Guatemala, Ground, 1 lb"</span><span class="token punctuation">,</span> <span class="token number">20.50</span><span class="token punctuation">,</span>
				<span class="token string">"Sumatra"</span><span class="token punctuation">,</span> <span class="token string">"Medium"</span><span class="token punctuation">,</span> <span class="token string">"Vibrant and powdery"</span><span class="token punctuation">,</span>
				<span class="token string">"Like dark chocolate"</span><span class="token punctuation">,</span> <span class="token string">"Gentle"</span><span class="token punctuation">,</span> <span class="token string">"Rich and full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C011"</span><span class="token punctuation">,</span> <span class="token string">"Special Blend, Whole, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">16.80</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"Dark roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Full, roasted flavor"</span><span class="token punctuation">,</span> <span class="token string">"Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Bold and rich"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token string">"C012"</span><span class="token punctuation">,</span> <span class="token string">"Special Blend, Ground, 1 lb"</span><span class="token punctuation">,</span>
				<span class="token number">17.55</span><span class="token punctuation">,</span> <span class="token string">"Latin American Blend"</span><span class="token punctuation">,</span> <span class="token string">"Dark roast"</span><span class="token punctuation">,</span>
				<span class="token string">"Full, roasted flavor"</span><span class="token punctuation">,</span> <span class="token string">"Hearty"</span><span class="token punctuation">,</span> <span class="token string">"Bold and rich"</span><span class="token punctuation">,</span> <span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B001"</span><span class="token punctuation">,</span> <span class="token string">"Home Coffee Brewer"</span><span class="token punctuation">,</span>
				<span class="token number">150.00</span><span class="token punctuation">,</span> <span class="token string">"Brewer 100"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">,</span> <span class="token string">"Coffee Brewer, 2 Warmers"</span><span class="token punctuation">,</span>
				<span class="token number">200.00</span><span class="token punctuation">,</span> <span class="token string">"Brewer 200"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B003"</span><span class="token punctuation">,</span> <span class="token string">"Coffee Brewer, 3 Warmers"</span><span class="token punctuation">,</span>
				<span class="token number">280.00</span><span class="token punctuation">,</span> <span class="token string">"Brewer 210"</span><span class="token punctuation">,</span> <span class="token string">"Pourover"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B004"</span><span class="token punctuation">,</span> <span class="token string">"Commercial Brewer, 20 cups"</span><span class="token punctuation">,</span>
				<span class="token number">380.00</span><span class="token punctuation">,</span> <span class="token string">"Quick Coffee 100"</span><span class="token punctuation">,</span> <span class="token string">"Automatic"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span><span class="token string">"B005"</span><span class="token punctuation">,</span> <span class="token string">"Commercial Brewer, 40 cups"</span><span class="token punctuation">,</span>
				<span class="token number">480.00</span><span class="token punctuation">,</span> <span class="token string">"Quick Coffee 200"</span><span class="token punctuation">,</span> <span class="token string">"Automatic"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">,</span> <span class="token string">"Almond Flavored Syrup"</span><span class="token punctuation">,</span> <span class="token number">9.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A002"</span><span class="token punctuation">,</span> <span class="token string">"Irish Creme Flavored Syrup"</span><span class="token punctuation">,</span> <span class="token number">9.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A003"</span><span class="token punctuation">,</span> <span class="token string">"Mint Flavored syrup"</span><span class="token punctuation">,</span> <span class="token number">9.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A004"</span><span class="token punctuation">,</span> <span class="token string">"Caramel Flavored Syrup"</span><span class="token punctuation">,</span> <span class="token number">9.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A005"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Cookies"</span><span class="token punctuation">,</span> <span class="token number">12.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A006"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Travel Thermo"</span><span class="token punctuation">,</span> <span class="token number">18.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A007"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee Ceramic Mug"</span><span class="token punctuation">,</span> <span class="token number">8.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A008"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee 12 Filters"</span><span class="token punctuation">,</span> <span class="token number">15.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">"A009"</span><span class="token punctuation">,</span> <span class="token string">"Gourmet Coffee 36 Filters"</span><span class="token punctuation">,</span> <span class="token number">45.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> catalog<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Initializes the sales object.
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">loadSales</span><span class="token punctuation">(</span><span class="token class-name">Catalog</span> catalog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Order</span> orderOne <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		orderOne<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderOne<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Order</span> orderTwo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		orderTwo<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		orderTwo<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Order</span> orderThree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		orderThree<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderThree<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Displays a menu of options and verifies the user's choice.
	 *
	 * @return an integer in the range [0,3]
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span>  <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
		<span class="token keyword">int</span>  input<span class="token punctuation">;</span>
		<span class="token keyword">do</span>  <span class="token punctuation">{</span>
			<span class="token keyword">try</span>  <span class="token punctuation">{</span>
				stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				stdErr<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"[0]  Quit\n"</span>
				             <span class="token operator">+</span> <span class="token string">"[1]  Display sales (Plain Text)\n"</span>
				             <span class="token operator">+</span> <span class="token string">"[2]  Display sales (HTML)\n"</span>
				             <span class="token operator">+</span> <span class="token string">"[3]  Display sales (XML)\n"</span>
				             <span class="token operator">+</span> <span class="token string">"choice&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				stdErr<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				input <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stdIn<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;=</span> input <span class="token operator">&amp;&amp;</span> <span class="token number">3</span> <span class="token operator">&gt;=</span> input<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid choice:  "</span> <span class="token operator">+</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span>  nfe<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
				stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nfe<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span>  input<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Changes the sales .
	 *
	 * @param newFormatter a sales formatter
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setSalesFormatter</span><span class="token punctuation">(</span><span class="token class-name">SalesFormatter</span> newFormatter<span class="token punctuation">)</span><span class="token punctuation">{</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span>newFormatter <span class="token keyword">instanceof</span> <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span> newFormatter<span class="token punctuation">;</span>
	    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newFormatter <span class="token keyword">instanceof</span> <span class="token class-name">HTMLSalesFormatter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span> newFormatter<span class="token punctuation">;</span>
	    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newFormatter <span class="token keyword">instanceof</span> <span class="token class-name">XMLSalesFormatter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span> newFormatter<span class="token punctuation">;</span>
	    <span class="token punctuation">}</span>
		<span class="token comment">/* PLACE YOUR CODE HERE */</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Displays the sales information in the current format.
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displaySales</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">getNumberOfOrders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
            stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The catalog is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   
            stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>salesFormatter<span class="token punctuation">.</span><span class="token function">formatSales</span><span class="token punctuation">(</span>sales<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
		<span class="token comment">/* PLACE YOUR CODE HERE */</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Presents the user with a menu of options and executes the
	 * selected task.
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
		<span class="token keyword">int</span>  choice <span class="token operator">=</span> <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>choice <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                <span class="token function">setSalesFormatter</span><span class="token punctuation">(</span><span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">displaySales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">/* PLACE YOUR CODE HERE */</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
			    <span class="token function">setSalesFormatter</span><span class="token punctuation">(</span><span class="token class-name">HTMLSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			    <span class="token function">displaySales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">/* PLACE YOUR CODE HERE */</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
			    <span class="token function">setSalesFormatter</span><span class="token punctuation">(</span><span class="token class-name">XMLSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			    <span class="token function">displaySales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">/* PLACE YOUR CODE HERE */</span>
			<span class="token punctuation">}</span>
			choice <span class="token operator">=</span> <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="Using-File-I-x2F-O-in-the-Gourmet-Coffee-System"><a href="#Using-File-I-x2F-O-in-the-Gourmet-Coffee-System" class="headerlink" title="Using File I/O in the Gourmet Coffee System"></a>Using File I/O in the Gourmet Coffee System</h1><h2 id="Prerequisites-Goals-and-Outcomes-2"><a href="#Prerequisites-Goals-and-Outcomes-2" class="headerlink" title="Prerequisites, Goals, and Outcomes"></a>Prerequisites, Goals, and Outcomes</h2><p><strong>Prerequisites</strong><br>Before you begin this exercise, you need mastery of the following: </p>
<ul>
<li>Java API<ul>
<li>Knowledge of the class StringTokenizer</li>
</ul>
</li>
<li>File I/O<ul>
<li>Knowledge of file I/O <ul>
<li>How to read data from a file </li>
<li>How to write data to a file</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><em><strong>Goals</strong></em><br>Reinforce your ability to use file I/O </p>
<p><em><strong>Outcomes</strong></em><br>You will master the following skills: </p>
<ul>
<li>Produce applications that read data from a file and parse it </li>
<li>Produce applications that write data to a file</li>
</ul>
<p><strong>Background</strong><br>In this assignment, you will create another version of the Gourmet Coffee System. In previous versions, the data for the product catalog was hard-coded in the application. In this version, the data will be loaded from a file. Also, the user will be able to write the sales information to a file in one of three formats: plain text, HTML, or XML. Part of the work has been done for you and is provided in the student archive. You will implement the code that loads the product catalog and persists the sales information. </p>
<p><strong>Description</strong><br>The Gourmet Coffee System sells three types of products: coffee, coffee brewers, and accessories for coffee consumption. A file called catalog.dat stores the product data:</p>
<ul>
<li>catalog.dat. File with product data</li>
</ul>
<p>Every line in catalog.dat contains exactly one product.<br>A line for a coffee product has the following format:<br><code>Coffee_code_description_price_origin_roast_flavor_aroma_acidity_body</code></p>
<p><strong>where:</strong></p>
<ul>
<li>“<strong>Coffee</strong>“ is a prefix that indicates the line type. </li>
<li><strong>code</strong> is a string that represents the code of the coffee. </li>
<li><strong>description</strong> is a string that represents the description of the coffee. </li>
<li><strong>price</strong> is a double that represents the price of the coffee. </li>
<li><strong>origin</strong> is a string that represents the origin of the coffee. </li>
<li><strong>roast</strong> is a string that represents the roast of the coffee. </li>
<li><strong>flavor</strong> is a string that represents the flavor of the coffee. </li>
<li><strong>aroma</strong> is a string that represents the aroma of the coffee. </li>
<li><strong>acidity</strong> is a string that represents the acidity of the coffee. </li>
<li><strong>body</strong> is a string that represents the body of the coffee.</li>
</ul>
<p>The fields are delimited by an underscore ( _ ). You can assume that the fields themselves do not contain any underscores.<br>A line for a coffee brewer has the following format:<br><code>Brewer_code_description_price_model_waterSupply_numberOfCups</code></p>
<p><strong>where:</strong></p>
<ul>
<li>“<strong>Brewer</strong>“ is a prefix that indicates the line type. </li>
<li><strong>code</strong> is a string that represents the code of the brewer. </li>
<li><strong>description</strong> is a string that represents the description of the brewer. </li>
<li><strong>price</strong> is a double that represents the price of the brewer. </li>
<li><strong>model</strong> is a string that represents the model of the coffee brewer. </li>
<li><strong>waterSupply</strong> is a string that represents the water supply of the coffee brewer. </li>
<li><strong>numberOfCups</strong> is an integer that represents the capacity of the coffee brewer in number of cups.</li>
</ul>
<p>The fields are delimited by an underscore ( _ ). You can assume that the fields themselves do not contain any underscores.<br>A line for a coffee accessory has the following format:<br><code>Product_code_description_price</code></p>
<p><strong>where:</strong></p>
<ul>
<li>“<strong>Product</strong>“ is a prefix that indicates the line type. </li>
<li><strong>code</strong> is a string that represents the code of the product. </li>
<li><strong>description</strong> is a string that represents the description of the product. </li>
<li><strong>price</strong> is a double that represents the price of the product.</li>
</ul>
<p>The fields are delimited by an underscore ( _ ). You can assume that the fields themselves do not contain any underscores.<br>The following class diagram highlights the elements you will use to load the product catalog and persist the sales information:</p>
<p><img src="/../../../images/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/Gourmet%E5%92%96%E5%95%A1%E7%B3%BB%E7%BB%9F%E5%BB%BA%E6%A8%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/7.png"></p>
<p><em>Figure 1 Portion of Gourmet Coffee System class diagram</em></p>
<p>In this assignment, you will implement FileCatalogloader and complete the implementation of GourmetCoffee.</p>
<h2 id="Interface-CatalogLoader"><a href="#Interface-CatalogLoader" class="headerlink" title="Interface CatalogLoader"></a>Interface CatalogLoader</h2><p>The interface CatalogLoader declares a method for producing a product catalog. A complete implementation of this interface is provided in the student archive.</p>
<p><strong>Method:</strong></p>
<ul>
<li><strong>Catalog loadCatalog(String fileName) throws FileNotFoundException, IOException, DataFormatException</strong></li>
</ul>
<p>Loads the information in the specified file into a product catalog and returns the catalog. </p>
<h2 id="Class-DataFormatException"><a href="#Class-DataFormatException" class="headerlink" title="Class DataFormatException"></a>Class DataFormatException</h2><p>This exception is thrown when a line in the file being parsed has errors:</p>
<ul>
<li><strong>The line does not have the expected number of tokens.</strong> </li>
<li><strong>The tokens that should contain numbers do not.</strong></li>
</ul>
<p>A complete implementation of this class is provided in the student archive.</p>
<h2 id="Class-FileCatalogLoader"><a href="#Class-FileCatalogLoader" class="headerlink" title="Class FileCatalogLoader"></a>Class FileCatalogLoader</h2><p>The class FileCatalogLoader implements interface CatalogLoader. It is used to obtain a product catalog from a file. You should implement this class from scratch:</p>
<p><strong>Methods:</strong></p>
<ul>
<li><p><strong>private Product readProduct(String line) throws DataFormatException</strong><br>This method reads a line of coffee-accessory data. It uses the class StringTokenizer to extract the accessory data in the specified line. If the line is error free, this method returns a Product object that encapsulates the accessory data. If the line has errors, that is, if it does not have the expected number of tokens or the token that should contain a double does not; this method throws a DataFormatException that contains the line of malformed data. </p>
</li>
<li><p><strong>private Coffee readCoffee(String line) throws DataFormatException</strong><br>This method reads a line of coffee data. It uses the class StringTokenizer to extract the coffee data in the specified line. If the line is error free, this method returns a Coffee object that encapsulates the coffee data. If the line has errors, that is, if it does not have the expected number of tokens or the token that should contain a double does not; this method throws a DataFormatException that contains the line of malformed data. </p>
</li>
<li><p><strong>private CoffeeBrewer readCoffeeBrewer(String line) throws DataFormatException</strong><br>This method reads a line of coffee-brewer data. It uses the class StringTokenizer to extract the brewer data in the specified line. If the line is error free, this method returns a CoffeeBrewer object that encapsulates the brewer data. If the line has errors, that is, if it does not have the expected number of tokens or the tokens that should contain a number do not; this method throws a DataFormatException that contains the line of malformed data. </p>
</li>
<li><p><strong>public Catalog loadCatalog(String filename) throws FileNotFoundException, IOException, DataFormatException</strong><br>This method loads the information in the specified file into a product catalog and returns the catalog. It begins by opening the file for reading. It then proceeds to read and process each line in the file. The method String.startsWith is used to determine the line type: </p>
<ul>
<li>If the line type is “<strong>Product</strong>“, the method readProduct is invoked. </li>
<li>If the line type is “<strong>Coffee</strong>“, the method readCoffee is invoked. </li>
<li>If the line type is “<strong>Brewer</strong>“, the method readCoffeeBrewer is invoked.</li>
</ul>
<p>After the line is processed, loadCatalog adds the product (accessory, coffee, or brewer) to the product catalog. When all the lines in the file have been processed, load returns the product catalog to the calling method.</p>
</li>
</ul>
<p>This method can throw the following exceptions: </p>
<ul>
<li><strong>FileNotFoundException</strong> — if the specified file does not exist. </li>
<li><strong>IOException</strong> — if there is an error reading the information in the specified file. </li>
<li><strong>DataFormatException</strong> — if a line in the file has errors (the exception should contain the line of malformed data).</li>
</ul>
<h2 id="Class-GourmetCoffee-1"><a href="#Class-GourmetCoffee-1" class="headerlink" title="Class GourmetCoffee"></a>Class GourmetCoffee</h2><p>A partial implementation of class GourmetCoffee is provided in the student archive. You should implement writeFile, a method that writes sales information to a file:</p>
<ul>
<li><strong>private void writeFile(String fileName, String content) throws IOException</strong></li>
</ul>
<p>This method creates a new file with the specified name, writes the specified string to the file, and then closes the file.</p>
<h2 id="Class-TestFileCatalogLoader"><a href="#Class-TestFileCatalogLoader" class="headerlink" title="Class TestFileCatalogLoader"></a>Class TestFileCatalogLoader</h2><p>This class is a test driver for FileCatalogLoader. A complete implementation is included in the student archive student-files.zip. You should use this class to test your implementation of FileCatalogLoader. </p>
<p><strong>Files</strong><br>The following files are needed to complete this assignment: </p>
<ul>
<li><strong>student-files.zip</strong> — Download this file. This archive contains the following: <ul>
<li><strong>Class files</strong> <ul>
<li><strong>Coffee.class</strong></li>
<li><strong>CoffeeBrewer.class</strong></li>
<li><strong>Product.class</strong></li>
<li><strong>Catalog.class</strong></li>
<li><strong>OrderItem.class</strong></li>
<li><strong>Order.class</strong></li>
<li><strong>Sales.class</strong></li>
<li><strong>SalesFormatter.class</strong></li>
<li><strong>PlainTextSalesFormatter.class</strong></li>
<li><strong>HTMLSalesFormatter.class</strong></li>
<li><strong>XMLSalesFormatter.class</strong></li>
</ul>
</li>
<li><strong>Documentation</strong> <ul>
<li><strong>Coffee.html</strong></li>
<li><strong>CoffeeBrewer.html</strong></li>
<li><strong>Product.html</strong></li>
<li><strong>Catalog.html</strong></li>
<li><strong>OrderItem.html</strong></li>
<li><strong>Order.html</strong></li>
<li><strong>Sales.html</strong></li>
<li><strong>SalesFormatter.html</strong></li>
<li><strong>PlainTextSalesFormatter.html</strong></li>
<li><strong>HTMLSalesFormatter.html</strong></li>
<li><strong>XMLSalesFormatter.html</strong></li>
</ul>
</li>
<li><strong>Java files</strong> <ul>
<li><strong>CatalogLoader.java:</strong> A complete implementation </li>
<li><strong>DataFormatException.java:</strong> A complete implementation </li>
<li><strong>TestFileCatalogLoader.java:</strong> A complete implementation </li>
<li><strong>GourmetCoffee.java:</strong> Use this template to complete your implementation.</li>
</ul>
</li>
<li><strong>Data files for the test driver</strong> <ul>
<li><strong>catalog.dat:</strong> A file with product information </li>
<li><strong>empty.dat:</strong> An empty file</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Tasks</strong><br>Implement the class FileCatalogLoader and the method GourmetCoffee.writeFile. Document using Javadoc and follow Sun’s code conventions. The following steps will guide you through this assignment. Work incrementally and test each increment. Save often.</p>
<ul>
<li><p>Extract the files by issuing the following command at the command prompt:<br>C:&gt;unzip student-files.zip</p>
</li>
<li><p>Then, implement class FileCatalogLoader from scratch. Use the TestFileCatalogLoader driver to test your implementation. </p>
</li>
<li><p>Next, implement the method GourmetCoffee.writeFile. </p>
</li>
<li><p>Finally, compile the class GourmetCoffee, and execute the class GourmetCoffee by issuing the following command at the command prompt:<br>C:&gt;java GourmetCoffee catalog.dat<br>Sales information has been hard-coded in the GourmetCoffee template provided by iCarnegie.</p>
</li>
<li><p>If the user displays the catalog, the output should be:<br>C001 Colombia, Whole, 1 lb<br>C002 Colombia, Ground, 1 lb<br>C003 Italian Roast, Whole, 1 lb<br>C004 Italian Roast, Ground, 1 lb<br>C005 French Roast, Whole, 1 lb<br>C006 French Roast, Ground, 1 lb<br>C007 Guatemala, Whole, 1 lb<br>C008 Guatemala, Ground, 1 lb<br>C009 Sumatra, Whole, 1 lb<br>C010 Sumatra, Ground, 1 lb<br>C011 Decaf Blend, Whole, 1 lb<br>C012 Decaf Blend, Ground, 1 lb<br>B001 Home Coffee Brewer<br>B002 Coffee Brewer, 2 Warmers<br>B003 Coffee Brewer, 3 Warmers<br>B004 Commercial Coffee, 20 Cups<br>B005 Commercial Coffee, 40 Cups<br>A001 Almond Flavored Syrup<br>A002 Irish Creme Flavored Syrup<br>A003 Mint Flavored syrup<br>A004 Caramel Flavored Syrup<br>A005 Gourmet Coffee Cookies<br>A006 Gourmet Coffee Travel Thermo<br>A007 Gourmet Coffee Ceramic Mug<br>A008 Gourmet Coffee 12 Cup Filters<br>A009 Gourmet Coffee 36 Cup Filters</p>
</li>
<li><p>If the user saves the sales information in plain text, a file with the following content should be created: </p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">1</span>

<span class="token number">5</span> C001 <span class="token number">17.99</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">89.94999999999999</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">2</span>

<span class="token number">2</span> C002 <span class="token number">18.75</span>
<span class="token number">2</span> A001 <span class="token number">9.0</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">55.5</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Order</span> <span class="token number">3</span>

<span class="token number">1</span> B002 <span class="token number">200.0</span>

<span class="token class-name">Total</span> <span class="token operator">=</span> <span class="token number">200.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>If the user saves the sales information in HTML, a file with the following content should be created: </p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Orders<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 89.94999999999999<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> C001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 17.99
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 55.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> C002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 18.75
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> A001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 9.0
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>Total = 200.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> B002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>quantity:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 200.0
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>If the user saves the sales information in XML, a file with the following content should be created:</p>
</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sales</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>89.94999999999999<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17.99<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>C001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>55.5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18.75<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>C002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>9.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>A001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Order</span> <span class="token attr-name">total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OrderItem</span> <span class="token attr-name">quantity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>B002<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OrderItem</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Order</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Sales</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><em><strong>Submission</strong></em><br>Upon completion, submit only the following:</p>
<ol>
<li>FileCatalogLoader.java</li>
<li>GourmetCoffee.java</li>
</ol>
<h2 id="DataFormatException类"><a href="#DataFormatException类" class="headerlink" title="DataFormatException类"></a>DataFormatException类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataFormatException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span>  <span class="token punctuation">{</span>
    
    <span class="token comment">//序列化</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Constructs a `DataFormatException` with no detail
     * message.
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">DataFormatException</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Constructs a `DataFormatException` with the
     * specified detail message.
     *
     * @param message  the malformed data
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">DataFormatException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="CatalogLoader类"><a href="#CatalogLoader类" class="headerlink" title="CatalogLoader类"></a>CatalogLoader类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This interface declares a method for obtaining a products catalog.
 *
 * @author BlankSpace
 * @version 1.1.0
 * @see Catalog
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CatalogLoader</span>  <span class="token punctuation">{</span>

    <span class="token comment">/*
     * Loads the product catalog with the data in the specified file.
     *
     * @param filename  The name of a file that contains catalog
     *                  information.
     * @return the product catalog.
     * @throws FileNotFoundException  if the specified file does not
     *                                exist.
     * @throws IOException  if there is an error reading the
     *                     information in the specified file.
     * @throws DataFormatException  if the file contains
     *                                     badly-formed data.
     */</span>
    <span class="token class-name">Catalog</span> <span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">DataFormatException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="FileCatalogLoader类"><a href="#FileCatalogLoader类" class="headerlink" title="FileCatalogLoader类"></a>FileCatalogLoader类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringTokenizer</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This class implements interface CatalogLoader. It is used to obtain a product catalog from a file.
 * 
 * @author BlankSpace
 * @version 1.0.0
 * @see DataFormatException
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileCatalogLoader</span> <span class="token keyword">implements</span> <span class="token class-name">CatalogLoader</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> split <span class="token operator">=</span> <span class="token string">"_"</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * This method reads a line of coffee-accessory data.
     * It uses the class StringTokenizer to extract the accessory data in the specified line.
     * If the line is error free, this method returns a Product object that encapsulates the accessory data.
     * If the line has errors, that is, if it does not have the expected number of tokens or the token that should contain a double does not.
     * This method throws a DataFormatException that contains the line of malformed data. 
     * @param line
     * @return an new object of Coffee
     * @throws DataFormatException, which contains the line of malformed data
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Product</span> <span class="token function">readProduct</span><span class="token punctuation">(</span><span class="token class-name">String</span> line<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">DataFormatException</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> code <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token class-name">String</span> description <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>   
        <span class="token class-name">StringTokenizer</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> split<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">while</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
            token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            code <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            description <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            price <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> description<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    
    <span class="token comment">/**
     * This method reads a line of coffee data. It uses the class StringTokenizer to extract the coffee data in the specified line.
     * If the line is error free, this method returns a Coffee object that encapsulates the coffee data.
     * If the line has errors, that is, if it does not have the expected number of tokens or the token that should contain a double does not.
     * This method throws a DataFormatException that contains the line of malformed data. 
     * @param line
     * @return an new object of Coffee
     * @throws DataFormatException, which contains the line of malformed data
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Coffee</span> <span class="token function">readCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> line<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">DataFormatException</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> code <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> description <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> origin <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> roast <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> flavor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> aroma <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> acidity <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> body <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">StringTokenizer</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> split<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            code <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            description <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            price <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            origin <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            roast <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            flavor <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            aroma <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            acidity <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            body <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>   
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> description<span class="token punctuation">,</span> price<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> roast<span class="token punctuation">,</span> flavor<span class="token punctuation">,</span> aroma<span class="token punctuation">,</span> acidity<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    
   <span class="token comment">/**
    * This method reads a line of coffee-brewer data.
    * It uses the class StringTokenizer to extract the brewer data in the specified line. 
    * If the line is error free, this method returns a CoffeeBrewer object that encapsulates the brewer data.
    * If the line has errors, that is, if it does not have the expected number of tokens or the tokens that should contain a number do not.
    * This method throws a DataFormatException that contains the line of malformed data. 
    * @param line
    * @return an new object of Coffee
    * @throws DataFormatException, which contains the line of malformed data
    */</span>
    <span class="token keyword">private</span> <span class="token class-name">CoffeeBrewer</span> <span class="token function">readCoffeeBrewer</span><span class="token punctuation">(</span><span class="token class-name">String</span> line<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">DataFormatException</span> <span class="token punctuation">{</span>   
        <span class="token class-name">String</span> code <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token class-name">String</span> description <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>   
        <span class="token class-name">String</span> model <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token class-name">String</span> waterSupply <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
        <span class="token keyword">int</span> numberOfCups <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   
        <span class="token class-name">StringTokenizer</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> split<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">while</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
            token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            code <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            description <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            price <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            model <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            waterSupply <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            numberOfCups <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               
        <span class="token punctuation">}</span>   
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> description<span class="token punctuation">,</span> price<span class="token punctuation">,</span> model<span class="token punctuation">,</span> waterSupply<span class="token punctuation">,</span> numberOfCups<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Catalog</span> <span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token class-name">String</span> filename<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">DataFormatException</span> <span class="token punctuation">{</span>   
        <span class="token class-name">Catalog</span> catalog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Catalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token class-name">BufferedReader</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">String</span> line <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">while</span> <span class="token punctuation">(</span>line <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"Product"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
                catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token function">readProduct</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"Coffee"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
                catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token function">readCoffee</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"Brewer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
                catalog<span class="token punctuation">.</span><span class="token function">addProduct</span><span class="token punctuation">(</span><span class="token function">readCoffeeBrewer</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
            <span class="token punctuation">}</span>   
            line <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
        buffer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token keyword">return</span> catalog<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="TestFileCatalogLoader类"><a href="#TestFileCatalogLoader类" class="headerlink" title="TestFileCatalogLoader类"></a>TestFileCatalogLoader类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Tests the class `FileCatalogLoader`
 *
 * @author BlankSpace
 * @version 1.0.0
 * @see FileCatalogLoader
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span>  <span class="token class-name">TestFileCatalogLoader</span>  <span class="token punctuation">{</span>

    <span class="token comment">/* Standard output stream */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdOut <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* Standard error stream */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdErr <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Tests methods of class {@link FileCatalogLoader}
     *
     * @param args  not used.
     * @throws IOException  if an I/O error occurs.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> main <span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Testing class FileCatalogLoader..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TestFileCatalogLoader</span> tester <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestFileCatalogLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tester<span class="token punctuation">.</span><span class="token function">testLoadCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"All tests passed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Displays a message in the standard error stream if the value specified
     * by parameter `condition` is `false`.
     *
     * @param message  the error message.
     * @param condition  the test condition.
     * @return the value of `condition`
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token keyword">boolean</span> condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            stdErr<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"** Test failure "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * Displays a message in the standard error stream.
     *
     * @param message  the error message.
     * @return `false`;
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stdErr<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"** Test failure "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Tests the method `loadCatalog`.
     *
     * @return `true` if all test passed; otherwise returns
     *         `false`.
     * @throws IOException  if an I/O error occurs.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testLoadCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">CatalogLoader</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileCatalogLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// Testing an empty file</span>
            <span class="token class-name">Catalog</span> emptyCatalog <span class="token operator">=</span> loader<span class="token punctuation">.</span><span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token string">"empty.dat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"1, testing method read with an empty file"</span><span class="token punctuation">,</span>
                emptyCatalog <span class="token keyword">instanceof</span> <span class="token class-name">Catalog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"2, testing method read with an empty file"</span>
                <span class="token operator">+</span> emptyCatalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" products loaded"</span><span class="token punctuation">,</span>
                emptyCatalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Testing a not empty file</span>
            <span class="token class-name">Catalog</span> catalog <span class="token operator">=</span> loader<span class="token punctuation">.</span><span class="token function">loadCatalog</span><span class="token punctuation">(</span><span class="token string">"catalog.dat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"3, testing method loadCatalog"</span><span class="token punctuation">,</span>
                catalog <span class="token keyword">instanceof</span> <span class="token class-name">Catalog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"4, testing method loadCatalog: "</span>
                <span class="token operator">+</span> catalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" products loaded"</span><span class="token punctuation">,</span>
                catalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Testing product C001</span>
            <span class="token class-name">Product</span> product <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"5, testing method loadCatalog"</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                product <span class="token keyword">instanceof</span> <span class="token class-name">Coffee</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Coffee</span> coffeeC001 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Coffee</span><span class="token punctuation">)</span> product<span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"6, testing method loadCatalog: "</span> <span class="token operator">+</span> 
                coffeeC001<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Colombia, Whole, 1 lb"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">17.99</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Colombia"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getRoast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Medium"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Rich and Hearty"</span><span class="token punctuation">)</span>  <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getAroma</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Rich"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getAcidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Medium"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC001<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Testing product C002</span>
            product <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"7, testing method loadCatalog: "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                product <span class="token keyword">instanceof</span> <span class="token class-name">Coffee</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Coffee</span> coffeeC002 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Coffee</span><span class="token punctuation">)</span> product<span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"8, testing method loadCatalog: "</span> <span class="token operator">+</span> 
                coffeeC002<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Colombia, Ground, 1 lb"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">18.75</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getOrigin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Colombia"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getRoast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Medium"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Rich and Hearty"</span><span class="token punctuation">)</span>  <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getAroma</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Rich"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getAcidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Medium"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                coffeeC002<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Full"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Testing product A001</span>
            product <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"9, testing method loadCatalog: "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                product <span class="token keyword">instanceof</span> <span class="token class-name">Product</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"10, testing method loadCatalog: "</span> <span class="token operator">+</span> 
                product<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                product<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Almond Flavored Syrup"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                product<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">9.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Testing product B002</span>
            product <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"11, testing method loadCatalog: "</span> <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                product <span class="token keyword">instanceof</span> <span class="token class-name">CoffeeBrewer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">CoffeeBrewer</span> brewerB002 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">CoffeeBrewer</span><span class="token punctuation">)</span> product<span class="token punctuation">;</span>
            <span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">"12, testing method loadCatalog: "</span> <span class="token operator">+</span> 
                brewerB002<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Coffee Brewer, 2 Warmers"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">200.0</span> <span class="token operator">&amp;&amp;</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Brewer 200"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getWaterSupply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Pourover"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                brewerB002<span class="token punctuation">.</span><span class="token function">getNumberOfCups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"13, testing method loadCatalog: "</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="GourmetCoffeeSystem类-1"><a href="#GourmetCoffeeSystem类-1" class="headerlink" title="GourmetCoffeeSystem类"></a>GourmetCoffeeSystem类</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This class implements a gourmet coffee system.
 *
 * @author BlankSpace
 * @version 1.1.0
 * @see Product
 * @see Coffee
 * @see CoffeeBrewer
 * @see Catalog
 * @see OrderItem
 * @see Order
 * @see SalesFormatter
 * @see PlainTextSalesFormatter
 * @see HTMLSalesFormatter
 * @see XMLSalesFormatter
 * @see CatalogLoader
 * @see FileCatalogLoader
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GourmetCoffee</span>  <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">BufferedReader</span>  stdIn <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span>  <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdOut <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">PrintWriter</span>  stdErr <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Catalog</span>  catalog<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Sales</span>  sales<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SalesFormatter</span> salesFormatter<span class="token punctuation">;</span>

    <span class="token comment">/**
     * Loads catalog data from a file and starts the application.
     * &lt;p&gt;
     * The name of the file is specified in the command arguments.
     * &lt;/p&gt;
     *
     * @param args  String arguments.
     * @throws IOException if there are errors in the input.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
        <span class="token class-name">Catalog</span> catalog <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Usage: java GourmetCoffee filename"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                catalog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileCatalogLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loadCatalog</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> fnfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The file does not exist"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">DataFormatException</span> dfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The file contains malformed data: "</span>
                               <span class="token operator">+</span> dfe<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">GourmetCoffee</span> application <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span>catalog<span class="token punctuation">)</span><span class="token punctuation">;</span>
            application<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Constructs a `GourmetCoffee` object.
     * Initializes the catalog data with the value specified
     * in the parameter.
     *
     * @param initialCatalog a product catalog
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">GourmetCoffee</span><span class="token punctuation">(</span><span class="token class-name">Catalog</span> initialCatalog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>catalog <span class="token operator">=</span> initialCatalog<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sales <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span> <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadSales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Initializes the sales object.
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">loadSales</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Order</span> orderOne <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> productOne <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C001"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>productOne <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            orderOne<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>productOne<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderOne<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Order</span> orderTwo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> productTwo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"C002"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> productThree <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>productTwo <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>productThree <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            orderTwo<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>productTwo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            orderTwo<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>productThree<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Order</span> orderThree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> productFour <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token string">"B002"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>productFour <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            orderThree<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OrderItem</span><span class="token punctuation">(</span>productFour<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>orderThree<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Presents the user with a menu of options and executes the
     * selected task.
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
        <span class="token keyword">int</span>  choice <span class="token operator">=</span> <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>choice <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                <span class="token function">displayCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span>
                    <span class="token class-name">PlainTextSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">writeFile</span><span class="token punctuation">(</span>
                    <span class="token function">readFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter<span class="token punctuation">.</span><span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span>
                    <span class="token class-name">HTMLSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">writeFile</span><span class="token punctuation">(</span>
                    <span class="token function">readFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter<span class="token punctuation">.</span><span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>choice <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter <span class="token operator">=</span>
                    <span class="token class-name">XMLSalesFormatter</span><span class="token punctuation">.</span><span class="token function">getSingletonInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">writeFile</span><span class="token punctuation">(</span>
                    <span class="token function">readFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>salesFormatter<span class="token punctuation">.</span><span class="token function">formatSales</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sales<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            choice <span class="token operator">=</span> <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Displays a menu of options and verifies the user's choice.
     *
     * @return an integer in the range [0,7]
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span>  <span class="token function">getChoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
        <span class="token keyword">int</span>  input<span class="token punctuation">;</span>
        <span class="token keyword">do</span>  <span class="token punctuation">{</span>
            <span class="token keyword">try</span>  <span class="token punctuation">{</span>
                stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stdErr<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"[0]  Quit\n"</span>
                             <span class="token operator">+</span> <span class="token string">"[1]  Display Catalog\n"</span>
                             <span class="token operator">+</span> <span class="token string">"[2]  Save sales (Plain Text)\n"</span>
                             <span class="token operator">+</span> <span class="token string">"[3]  Save sales (HTML)\n"</span>
                             <span class="token operator">+</span> <span class="token string">"[4]  Save sales (XML)\n"</span>
                             <span class="token operator">+</span> <span class="token string">"choice&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stdErr<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                input <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stdIn<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;=</span> input <span class="token operator">&amp;&amp;</span> <span class="token number">4</span> <span class="token operator">&gt;=</span> input<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid choice:  "</span> <span class="token operator">+</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span>  nfe<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
                stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nfe<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>  input<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Displays the catalog.
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">displayCatalog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">.</span><span class="token function">getNumberOfProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            stdErr<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"The catalog is empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Product</span> product <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>catalog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stdOut<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span>
                               <span class="token operator">+</span> product<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Creates a new file (which has the specified name) and writes
     * the specified string to the new file.
     *
     * @param filename name of the file that will store the data
     * @param content data to be stored
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> filename<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">/* PLACE YOUR CODE HERE */</span>
        <span class="token class-name">BufferedWriter</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        buffer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        buffer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Prompts the user for a filename (the name of the file that
     * will store the sales information) and returns the user's
     * response.
     *
     * @return name of a file
     */</span>
    <span class="token keyword">private</span>  <span class="token class-name">String</span> <span class="token function">readFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>  <span class="token punctuation">{</span>
        stdErr<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Filename&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stdErr<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> stdIn<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">BlankSpacePlus</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://blankspaceplus.github.io/2021/03/11/ruan-jian-gong-cheng/mian-xiang-dui-xiang/gourmet-ka-pei-xi-tong-jian-mo-yu-shi-xian/">https://blankspaceplus.github.io/2021/03/11/ruan-jian-gong-cheng/mian-xiang-dui-xiang/gourmet-ka-pei-xi-tong-jian-mo-yu-shi-xian/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">BlankSpacePlus</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">
                                    <span class="chip bg-color">软件工程</span>
                                </a>
                            
                                <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
                                    <span class="chip bg-color">面向对象</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/03/11/ruan-jian-gong-cheng/die-dai-he-zeng-liang-de-kai-fa-zhou-qi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="迭代和增量的开发周期">
                        
                        <span class="card-title">迭代和增量的开发周期</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文分享现代软件开发迭代和增量的周期。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-03-11
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="post-category">
                                    软件工程
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">
                        <span class="chip bg-color">软件工程</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/03/11/ruan-jian-gong-cheng/mian-xiang-dui-xiang/lei-jian-guan-xi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="类间关系">
                        
                        <span class="card-title">类间关系</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文分享一些类间关系，例如泛化、聚合。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-03-11
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="post-category">
                                    软件工程
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">
                        <span class="chip bg-color">软件工程</span>
                    </a>
                    
                    <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
                        <span class="chip bg-color">面向对象</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 空白格<br />'
            + '文章作者: BlankSpacePlus<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '版权声明：本文为博主「BlankSpacePlus」的原创文章，遵循CC 4.0 BY-SA版权协议，任何形式的转载均请附上原文出处链接及本声明。<br>主页链接：https://blankspaceplus.github.io';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<script src="js/line.js"></script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="8153102324"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.5'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2020-2023</span>
            
            <span id="year">2020</span>
            <a href="/about" target="_blank">BlankSpacePlus</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">1010.3k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/BlankSpacePlus" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:blankspaceplus@foxmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
